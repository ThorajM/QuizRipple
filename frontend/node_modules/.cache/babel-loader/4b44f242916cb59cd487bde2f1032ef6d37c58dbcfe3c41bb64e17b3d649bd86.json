{"ast":null,"code":"var _jsxFileName = \"/Users/thoraj/Desktop/QUIZZZZZZ/frontend/src/components/AllResults.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo, useCallback, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport '../styles/AllResults.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\n\n// Safe math utilities\nconst safeMath = {\n  divide: (numerator, denominator, fallback = 0) => {\n    if (!denominator || denominator === 0 || !Number.isFinite(denominator)) return fallback;\n    const result = numerator / denominator;\n    return Number.isFinite(result) ? result : fallback;\n  },\n  percentage: (numerator, denominator, fallback = 0) => {\n    if (!denominator || denominator === 0 || !Number.isFinite(denominator)) return fallback;\n    const result = numerator / denominator * 100;\n    return Number.isFinite(result) ? Math.round(result) : fallback;\n  },\n  average: (values, fallback = 0) => {\n    if (!Array.isArray(values) || values.length === 0) return fallback;\n    const validValues = values.filter(v => Number.isFinite(v));\n    if (validValues.length === 0) return fallback;\n    const sum = validValues.reduce((a, b) => a + b, 0);\n    return Math.round(sum / validValues.length);\n  },\n  max: (values, fallback = 0) => {\n    if (!Array.isArray(values) || values.length === 0) return fallback;\n    const validValues = values.filter(v => Number.isFinite(v));\n    return validValues.length > 0 ? Math.max(...validValues) : fallback;\n  },\n  min: (values, fallback = 0) => {\n    if (!Array.isArray(values) || values.length === 0) return fallback;\n    const validValues = values.filter(v => Number.isFinite(v));\n    return validValues.length > 0 ? Math.min(...validValues) : fallback;\n  },\n  variance: (values, fallback = 0) => {\n    if (!Array.isArray(values) || values.length === 0) return fallback;\n    const validValues = values.filter(v => Number.isFinite(v));\n    if (validValues.length === 0) return fallback;\n    const mean = validValues.reduce((a, b) => a + b, 0) / validValues.length;\n    const variance = validValues.reduce((sum, value) => sum + Math.pow(value - mean, 2), 0) / validValues.length;\n    return Number.isFinite(variance) ? variance : fallback;\n  },\n  round: (value, decimals = 0) => {\n    if (!Number.isFinite(value)) return 0;\n    return Math.round(value * Math.pow(10, decimals)) / Math.pow(10, decimals);\n  }\n};\n\n// Simple Line Chart Component\nconst LineChart = ({\n  data,\n  width = 500,\n  height = 200,\n  title\n}) => {\n  if (!data || data.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-placeholder\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\uD83D\\uDCCA No data available for \", title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this);\n  }\n  const scores = data.map(d => d.score).filter(s => Number.isFinite(s));\n  if (scores.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-placeholder\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\uD83D\\uDCCA No valid data for \", title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this);\n  }\n  const maxScore = safeMath.max(scores, 100);\n  const minScore = safeMath.min(scores, 0);\n  const padding = 40;\n  const chartWidth = width - 2 * padding;\n  const chartHeight = height - 2 * padding;\n  const scoreRange = maxScore - minScore || 1;\n  const points = data.map((d, i) => {\n    const x = padding + i * chartWidth / Math.max(data.length - 1, 1);\n    const y = height - padding - (d.score - minScore) / scoreRange * chartHeight;\n    return `${x},${y}`;\n  }).join(' ');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chart-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"chart-title\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n      width: width,\n      height: height,\n      className: \"line-chart\",\n      children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n        children: /*#__PURE__*/_jsxDEV(\"pattern\", {\n          id: \"grid\",\n          width: \"40\",\n          height: \"20\",\n          patternUnits: \"userSpaceOnUse\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M 40 0 L 0 0 0 20\",\n            fill: \"none\",\n            stroke: \"#f0f0f0\",\n            strokeWidth: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n        width: \"100%\",\n        height: \"100%\",\n        fill: \"url(#grid)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n        x1: padding,\n        y1: height - padding,\n        x2: width - padding,\n        y2: height - padding,\n        stroke: \"#ddd\",\n        strokeWidth: \"2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n        x1: padding,\n        y1: padding,\n        x2: padding,\n        y2: height - padding,\n        stroke: \"#ddd\",\n        strokeWidth: \"2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n        fill: \"none\",\n        stroke: \"var(--primary-600)\",\n        strokeWidth: \"3\",\n        points: points,\n        className: \"chart-line\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), data.map((d, i) => {\n        const x = padding + i * chartWidth / Math.max(data.length - 1, 1);\n        const y = height - padding - (d.score - minScore) / scoreRange * chartHeight;\n        return /*#__PURE__*/_jsxDEV(\"circle\", {\n          cx: x,\n          cy: y,\n          r: 4,\n          fill: \"var(--primary-600)\",\n          className: \"chart-point\",\n          tabIndex: \"0\",\n          children: /*#__PURE__*/_jsxDEV(\"title\", {\n            children: `${d.date}: ${d.score}%`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 15\n          }, this)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"text\", {\n        x: padding - 10,\n        y: height - padding,\n        fontSize: \"12\",\n        fill: \"var(--gray-600)\",\n        textAnchor: \"end\",\n        children: [minScore, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        x: padding - 10,\n        y: padding + 5,\n        fontSize: \"12\",\n        fill: \"var(--gray-600)\",\n        textAnchor: \"end\",\n        children: [maxScore, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), data.length <= 10 && data.map((d, i) => {\n        const x = padding + i * chartWidth / Math.max(data.length - 1, 1);\n        return /*#__PURE__*/_jsxDEV(\"text\", {\n          x: x,\n          y: height - padding + 20,\n          fontSize: \"10\",\n          fill: \"var(--gray-600)\",\n          textAnchor: \"middle\",\n          children: d.shortDate\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n};\n\n// Bar Chart Component\n_c = LineChart;\nconst BarChart = ({\n  data,\n  width = 400,\n  height = 200,\n  title\n}) => {\n  if (!data || data.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-placeholder\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\uD83D\\uDCCA No data available for \", title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this);\n  }\n  const validData = data.filter(d => Number.isFinite(d.value));\n  if (validData.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-placeholder\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\uD83D\\uDCCA No valid data for \", title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this);\n  }\n  const maxValue = safeMath.max(validData.map(d => d.value), 1);\n  const padding = 40;\n  const chartWidth = width - 2 * padding;\n  const chartHeight = height - 2 * padding;\n  const barWidth = chartWidth / validData.length * 0.8;\n  const barSpacing = chartWidth / validData.length * 0.2;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chart-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"chart-title\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n      width: width,\n      height: height,\n      className: \"bar-chart\",\n      children: [/*#__PURE__*/_jsxDEV(\"line\", {\n        x1: padding,\n        y1: height - padding,\n        x2: width - padding,\n        y2: height - padding,\n        stroke: \"#ddd\",\n        strokeWidth: \"2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n        x1: padding,\n        y1: padding,\n        x2: padding,\n        y2: height - padding,\n        stroke: \"#ddd\",\n        strokeWidth: \"2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), validData.map((d, i) => {\n        const barHeight = d.value / maxValue * chartHeight;\n        const x = padding + i * (barWidth + barSpacing);\n        const y = height - padding - barHeight;\n        return /*#__PURE__*/_jsxDEV(\"g\", {\n          children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n            x: x,\n            y: y,\n            width: barWidth,\n            height: barHeight,\n            fill: \"var(--primary-500)\",\n            className: \"chart-bar\",\n            tabIndex: \"0\",\n            children: /*#__PURE__*/_jsxDEV(\"title\", {\n              children: `${d.label}: ${d.value}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n            x: x + barWidth / 2,\n            y: height - padding + 15,\n            fontSize: \"10\",\n            fill: \"var(--gray-600)\",\n            textAnchor: \"middle\",\n            children: d.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n            x: x + barWidth / 2,\n            y: y - 5,\n            fontSize: \"10\",\n            fill: \"var(--gray-700)\",\n            textAnchor: \"middle\",\n            fontWeight: \"600\",\n            children: d.value\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 179,\n    columnNumber: 5\n  }, this);\n};\n\n// Donut Chart Component\n_c2 = BarChart;\nconst DonutChart = ({\n  passed,\n  failed,\n  width = 200,\n  height = 200\n}) => {\n  const passedCount = Number.isFinite(passed) ? Math.max(0, passed) : 0;\n  const failedCount = Number.isFinite(failed) ? Math.max(0, failed) : 0;\n  const total = passedCount + failedCount;\n  if (total === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-placeholder\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uD83D\\uDCCA No quiz data available\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this);\n  }\n  const radius = Math.min(width, height) / 2 - 20;\n  const innerRadius = radius * 0.6;\n  const centerX = width / 2;\n  const centerY = height / 2;\n  const passedAngle = passedCount / total * 2 * Math.PI;\n  const failedAngle = failedCount / total * 2 * Math.PI;\n  const createArcPath = (startAngle, endAngle, outerRadius, innerRadius) => {\n    const x1 = centerX + outerRadius * Math.cos(startAngle);\n    const y1 = centerY + outerRadius * Math.sin(startAngle);\n    const x2 = centerX + outerRadius * Math.cos(endAngle);\n    const y2 = centerY + outerRadius * Math.sin(endAngle);\n    const x3 = centerX + innerRadius * Math.cos(endAngle);\n    const y3 = centerY + innerRadius * Math.sin(endAngle);\n    const x4 = centerX + innerRadius * Math.cos(startAngle);\n    const y4 = centerY + innerRadius * Math.sin(startAngle);\n    const largeArc = endAngle - startAngle > Math.PI ? 1 : 0;\n    return `M ${x1} ${y1} A ${outerRadius} ${outerRadius} 0 ${largeArc} 1 ${x2} ${y2} L ${x3} ${y3} A ${innerRadius} ${innerRadius} 0 ${largeArc} 0 ${x4} ${y4} Z`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chart-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"chart-title\",\n      children: \"Pass/Fail Distribution\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n      width: width,\n      height: height,\n      className: \"donut-chart\",\n      children: [/*#__PURE__*/_jsxDEV(\"path\", {\n        d: createArcPath(-Math.PI / 2, -Math.PI / 2 + passedAngle, radius, innerRadius),\n        fill: \"var(--success-500)\",\n        className: \"chart-segment\",\n        tabIndex: \"0\",\n        children: /*#__PURE__*/_jsxDEV(\"title\", {\n          children: `Passed: ${passedCount} (${safeMath.percentage(passedCount, total)}%)`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n        d: createArcPath(-Math.PI / 2 + passedAngle, -Math.PI / 2 + passedAngle + failedAngle, radius, innerRadius),\n        fill: \"var(--error-500)\",\n        className: \"chart-segment\",\n        tabIndex: \"0\",\n        children: /*#__PURE__*/_jsxDEV(\"title\", {\n          children: `Failed: ${failedCount} (${safeMath.percentage(failedCount, total)}%)`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        x: centerX,\n        y: centerY - 5,\n        textAnchor: \"middle\",\n        fontSize: \"18\",\n        fontWeight: \"bold\",\n        fill: \"var(--gray-700)\",\n        children: total\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        x: centerX,\n        y: centerY + 15,\n        textAnchor: \"middle\",\n        fontSize: \"12\",\n        fill: \"var(--gray-500)\",\n        children: \"Total Quizzes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-legend\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"legend-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"legend-color\",\n          style: {\n            backgroundColor: 'var(--success-500)'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Passed (\", passedCount, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"legend-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"legend-color\",\n          style: {\n            backgroundColor: 'var(--error-500)'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Failed (\", failedCount, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 268,\n    columnNumber: 5\n  }, this);\n};\n_c3 = DonutChart;\nconst AllResults = ({\n  onError,\n  onSuccess\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const abortControllerRef = useRef(null);\n  const searchTimeoutRef = useRef(null);\n\n  // Enhanced state management\n  const [state, setState] = useState({\n    results: [],\n    loading: true,\n    error: null,\n    currentPage: 1,\n    totalPages: 1,\n    totalResults: 0,\n    hasNextPage: false,\n    isLoadingMore: false,\n    lastFetchTime: null\n  });\n  const [filters, setFilters] = useState({\n    searchTerm: '',\n    sortBy: 'date',\n    filterBy: 'all',\n    dateRange: 'all',\n    scoreRange: [0, 100]\n  });\n  const [ui, setUi] = useState({\n    viewMode: localStorage.getItem('resultsViewMode') || 'cards',\n    selectedResults: new Set(),\n    showVisualization: false,\n    isOffline: !navigator.onLine\n  });\n  const [debouncedSearchTerm, setDebouncedSearchTerm] = useState(filters.searchTerm);\n  const [user, setUser] = useState(null);\n\n  // Debounced search\n  useEffect(() => {\n    if (searchTimeoutRef.current) {\n      clearTimeout(searchTimeoutRef.current);\n    }\n    searchTimeoutRef.current = setTimeout(() => {\n      setDebouncedSearchTerm(filters.searchTerm);\n    }, 300);\n    return () => {\n      if (searchTimeoutRef.current) {\n        clearTimeout(searchTimeoutRef.current);\n      }\n    };\n  }, [filters.searchTerm]);\n\n  // Load user data\n  useEffect(() => {\n    const loadUser = () => {\n      try {\n        const userData = localStorage.getItem('user');\n        if (userData) {\n          const parsedUser = JSON.parse(userData);\n          setUser(parsedUser);\n        } else {\n          navigate('/signin');\n        }\n      } catch (error) {\n        console.error('Error loading user data:', error);\n        navigate('/signin');\n      }\n    };\n    loadUser();\n  }, [navigate]);\n\n  // Enhanced auth headers\n  const getAuthHeaders = useCallback(() => {\n    const token = localStorage.getItem('authToken');\n    if (!token) {\n      throw new Error('No authentication token found');\n    }\n    return {\n      'Authorization': `Bearer ${token}`,\n      'Content-Type': 'application/json'\n    };\n  }, []);\n\n  // Enhanced fetch with retry logic\n  const fetchResults = useCallback(async (page = 1, append = false, retryCount = 0) => {\n    if (!(user !== null && user !== void 0 && user.id) && !(user !== null && user !== void 0 && user._id)) {\n      console.warn('No user ID available for fetching results');\n      return;\n    }\n\n    // Cancel previous request\n    if (abortControllerRef.current) {\n      abortControllerRef.current.abort();\n    }\n    abortControllerRef.current = new AbortController();\n    setState(prev => ({\n      ...prev,\n      loading: !append,\n      isLoadingMore: append,\n      error: null\n    }));\n    try {\n      const queryParams = new URLSearchParams({\n        page: page.toString(),\n        limit: '12',\n        search: debouncedSearchTerm || '',\n        sort: filters.sortBy || 'date',\n        filter: filters.filterBy || 'all',\n        dateRange: filters.dateRange || 'all',\n        scoreMin: (filters.scoreRange[0] || 0).toString(),\n        scoreMax: (filters.scoreRange[1] || 100).toString()\n      });\n      const response = await fetch(`${API_BASE_URL}/api/quiz-results/user/${user.id || user._id}?${queryParams}`, {\n        headers: getAuthHeaders(),\n        signal: abortControllerRef.current.signal\n      });\n      if (!response.ok) {\n        if (response.status === 401) {\n          localStorage.removeItem('authToken');\n          navigate('/signin');\n          return;\n        }\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n      }\n      const data = await response.json();\n\n      // Validate response data\n      if (!data || typeof data !== 'object') {\n        throw new Error('Invalid response format');\n      }\n      const items = Array.isArray(data.items) ? data.items : [];\n      const totalPages = Number.isFinite(data.totalPages) ? Math.max(1, data.totalPages) : 1;\n      const totalResults = Number.isFinite(data.total) ? Math.max(0, data.total) : 0;\n      const newState = {\n        results: append ? [...state.results, ...items] : items,\n        currentPage: page,\n        totalPages,\n        totalResults,\n        hasNextPage: Boolean(data.hasNextPage),\n        loading: false,\n        isLoadingMore: false,\n        error: null,\n        lastFetchTime: Date.now()\n      };\n      setState(prev => ({\n        ...prev,\n        ...newState\n      }));\n    } catch (error) {\n      if (error.name === 'AbortError') return;\n      console.error('Error fetching results:', error);\n\n      // Retry logic for network errors\n      if (retryCount < 2 && error.message.includes('fetch')) {\n        console.log(`Retrying request... (${retryCount + 1}/2)`);\n        setTimeout(() => fetchResults(page, append, retryCount + 1), 1000);\n        return;\n      }\n      setState(prev => ({\n        ...prev,\n        loading: false,\n        isLoadingMore: false,\n        error: error.message\n      }));\n      onError === null || onError === void 0 ? void 0 : onError(`Failed to load quiz history: ${error.message}`);\n    }\n  }, [user, filters, debouncedSearchTerm, getAuthHeaders, onError, navigate, state.results]);\n\n  // Auto-refresh when user changes\n  useEffect(() => {\n    if (user) {\n      fetchResults(1);\n    }\n  }, [user, debouncedSearchTerm, filters.sortBy, filters.filterBy, filters.dateRange, JSON.stringify(filters.scoreRange)]);\n\n  // Enhanced statistics with safe math\n  const enhancedStats = useMemo(() => {\n    if (!Array.isArray(state.results) || state.results.length === 0) return null;\n    try {\n      // Extract valid scores\n      const scores = state.results.map(r => {\n        var _r$stats;\n        return (_r$stats = r.stats) === null || _r$stats === void 0 ? void 0 : _r$stats.percentage;\n      }).filter(s => Number.isFinite(s)).map(s => Math.max(0, Math.min(100, s))); // Clamp to 0-100\n\n      if (scores.length === 0) return null;\n\n      // Calculate basic stats\n      const totalQuizzes = state.results.length;\n      const passedCount = state.results.filter(r => {\n        var _r$stats2;\n        return ((_r$stats2 = r.stats) === null || _r$stats2 === void 0 ? void 0 : _r$stats2.passed) === true;\n      }).length;\n      const failedCount = totalQuizzes - passedCount;\n\n      // Time calculations\n      const totalTime = state.results.reduce((sum, r) => {\n        var _r$timing;\n        const timeSpent = ((_r$timing = r.timing) === null || _r$timing === void 0 ? void 0 : _r$timing.totalTimeSpent) || 0;\n        return sum + (Number.isFinite(timeSpent) ? timeSpent : 0);\n      }, 0);\n\n      // Trend analysis\n      const recent = scores.slice(0, 5);\n      const previous = scores.slice(5, 10);\n      const recentAvg = safeMath.average(recent);\n      const previousAvg = safeMath.average(previous);\n      let recentTrend = 'insufficient-data';\n      let trendPercentage = 0;\n      if (recent.length >= 3 && previous.length >= 3) {\n        const diff = recentAvg - previousAvg;\n        if (Math.abs(diff) > 2) {\n          recentTrend = diff > 0 ? 'improving' : 'declining';\n          trendPercentage = safeMath.percentage(diff, previousAvg);\n        } else {\n          recentTrend = 'stable';\n        }\n      }\n\n      // Consistency calculation\n      const variance = safeMath.variance(scores);\n      const standardDeviation = Math.sqrt(variance);\n      const consistencyScore = Math.max(0, 100 - standardDeviation);\n\n      // Recent activity\n      const weekAgo = new Date();\n      weekAgo.setDate(weekAgo.getDate() - 7);\n      const lastWeekCount = state.results.filter(r => {\n        const createdAt = new Date(r.createdAt);\n        return createdAt instanceof Date && !isNaN(createdAt) && createdAt > weekAgo;\n      }).length;\n      return {\n        totalQuizzes,\n        averageScore: safeMath.average(scores),\n        bestScore: safeMath.max(scores),\n        worstScore: safeMath.min(scores, 100),\n        passRate: safeMath.percentage(passedCount, totalQuizzes),\n        totalTimeHours: safeMath.round(totalTime / (1000 * 60 * 60), 1),\n        recentTrend,\n        trendPercentage: Math.abs(trendPercentage),\n        consistencyScore: Math.round(consistencyScore),\n        lastWeekCount,\n        passedCount,\n        failedCount,\n        medianScore: scores.length > 0 ? scores.sort((a, b) => a - b)[Math.floor(scores.length / 2)] : 0,\n        scoreRange: scores.length > 0 ? safeMath.max(scores) - safeMath.min(scores, 100) : 0\n      };\n    } catch (error) {\n      console.error('Error calculating stats:', error);\n      return null;\n    }\n  }, [state.results]);\n\n  // Chart data with safe calculations\n  const chartData = useMemo(() => {\n    if (!Array.isArray(state.results) || state.results.length === 0) return null;\n    try {\n      // Line chart data - scores over time\n      const validResults = state.results.filter(r => {\n        var _r$stats3;\n        return r.createdAt && ((_r$stats3 = r.stats) === null || _r$stats3 === void 0 ? void 0 : _r$stats3.percentage) != null;\n      }).sort((a, b) => new Date(a.createdAt) - new Date(b.createdAt)).slice(-10);\n      const lineChartData = validResults.map(r => {\n        const date = new Date(r.createdAt);\n        const score = Number.isFinite(r.stats.percentage) ? Math.max(0, Math.min(100, r.stats.percentage)) : 0;\n        return {\n          date: date.toLocaleDateString(),\n          shortDate: date.toLocaleDateString('en-US', {\n            month: 'short',\n            day: 'numeric'\n          }),\n          score\n        };\n      });\n\n      // Bar chart data - score distribution\n      const scoreRanges = [{\n        label: '0-20%',\n        min: 0,\n        max: 20\n      }, {\n        label: '21-40%',\n        min: 21,\n        max: 40\n      }, {\n        label: '41-60%',\n        min: 41,\n        max: 60\n      }, {\n        label: '61-80%',\n        min: 61,\n        max: 80\n      }, {\n        label: '81-100%',\n        min: 81,\n        max: 100\n      }];\n      const barChartData = scoreRanges.map(range => ({\n        label: range.label,\n        value: state.results.filter(r => {\n          var _r$stats4;\n          const score = (_r$stats4 = r.stats) === null || _r$stats4 === void 0 ? void 0 : _r$stats4.percentage;\n          return Number.isFinite(score) && score >= range.min && score <= range.max;\n        }).length\n      }));\n      return {\n        lineChartData,\n        barChartData\n      };\n    } catch (error) {\n      console.error('Error generating chart data:', error);\n      return null;\n    }\n  }, [state.results]);\n\n  // Enhanced filtering and sorting\n  const processedResults = useMemo(() => {\n    if (!Array.isArray(state.results)) return [];\n    try {\n      let processed = [...state.results];\n\n      // Apply date range filter\n      if (filters.dateRange !== 'all') {\n        const now = new Date();\n        const cutoff = new Date();\n        switch (filters.dateRange) {\n          case 'today':\n            cutoff.setHours(0, 0, 0, 0);\n            break;\n          case 'week':\n            cutoff.setDate(now.getDate() - 7);\n            break;\n          case 'month':\n            cutoff.setMonth(now.getMonth() - 1);\n            break;\n          case 'quarter':\n            cutoff.setMonth(now.getMonth() - 3);\n            break;\n          default:\n            cutoff.setFullYear(now.getFullYear() - 1);\n        }\n        processed = processed.filter(result => {\n          const resultDate = new Date(result.createdAt);\n          return resultDate instanceof Date && !isNaN(resultDate) && resultDate >= cutoff;\n        });\n      }\n\n      // Apply score range filter\n      processed = processed.filter(result => {\n        var _result$stats;\n        const score = (_result$stats = result.stats) === null || _result$stats === void 0 ? void 0 : _result$stats.percentage;\n        return Number.isFinite(score) && score >= (filters.scoreRange[0] || 0) && score <= (filters.scoreRange[1] || 100);\n      });\n\n      // Apply status filter\n      if (filters.filterBy !== 'all') {\n        processed = processed.filter(result => {\n          var _result$stats2, _result$stats3, _result$stats4;\n          switch (filters.filterBy) {\n            case 'passed':\n              return ((_result$stats2 = result.stats) === null || _result$stats2 === void 0 ? void 0 : _result$stats2.passed) === true;\n            case 'failed':\n              return ((_result$stats3 = result.stats) === null || _result$stats3 === void 0 ? void 0 : _result$stats3.passed) === false;\n            case 'high-score':\n              return (((_result$stats4 = result.stats) === null || _result$stats4 === void 0 ? void 0 : _result$stats4.percentage) || 0) >= 80;\n            case 'recent':\n              const oneWeekAgo = new Date();\n              oneWeekAgo.setDate(oneWeekAgo.getDate() - 7);\n              const resultDate = new Date(result.createdAt);\n              return resultDate instanceof Date && !isNaN(resultDate) && resultDate > oneWeekAgo;\n            default:\n              return true;\n          }\n        });\n      }\n\n      // Apply sorting\n      processed.sort((a, b) => {\n        var _a$stats, _b$stats, _a$quizConfig, _b$quizConfig, _a$timing, _b$timing;\n        try {\n          switch (filters.sortBy) {\n            case 'date':\n              const dateA = new Date(a.createdAt);\n              const dateB = new Date(b.createdAt);\n              return dateB - dateA;\n            case 'score':\n              const scoreA = Number.isFinite((_a$stats = a.stats) === null || _a$stats === void 0 ? void 0 : _a$stats.percentage) ? a.stats.percentage : 0;\n              const scoreB = Number.isFinite((_b$stats = b.stats) === null || _b$stats === void 0 ? void 0 : _b$stats.percentage) ? b.stats.percentage : 0;\n              return scoreB - scoreA;\n            case 'title':\n              const titleA = ((_a$quizConfig = a.quizConfig) === null || _a$quizConfig === void 0 ? void 0 : _a$quizConfig.title) || '';\n              const titleB = ((_b$quizConfig = b.quizConfig) === null || _b$quizConfig === void 0 ? void 0 : _b$quizConfig.title) || '';\n              return titleA.localeCompare(titleB);\n            case 'time':\n              const timeA = Number.isFinite((_a$timing = a.timing) === null || _a$timing === void 0 ? void 0 : _a$timing.totalTimeSpent) ? a.timing.totalTimeSpent : 0;\n              const timeB = Number.isFinite((_b$timing = b.timing) === null || _b$timing === void 0 ? void 0 : _b$timing.totalTimeSpent) ? b.timing.totalTimeSpent : 0;\n              return timeA - timeB;\n            default:\n              return 0;\n          }\n        } catch (error) {\n          console.error('Error sorting results:', error);\n          return 0;\n        }\n      });\n      return processed;\n    } catch (error) {\n      console.error('Error processing results:', error);\n      return [];\n    }\n  }, [state.results, filters]);\n\n  // FIXED: View result with COMPLETE data structure\n  const viewResult = useCallback(result => {\n    try {\n      var _result$quizConfig, _result$stats5, _result$stats6, _result$stats7, _result$stats8, _result$stats9, _result$stats0, _result$stats1, _result$stats10, _result$quizConfig2, _result$quizConfig3, _result$quizConfig4, _result$quizConfig5, _result$student, _result$student2, _result$timing, _result$timing2, _result$timing3, _result$timing4, _result$timing5, _result$submission, _result$submission2;\n      if (!result) {\n        onError === null || onError === void 0 ? void 0 : onError('Invalid result data');\n        return;\n      }\n      console.log('🔍 Original result from database:', result);\n\n      // Create the COMPLETE data structure that Results expects\n      const completeResultData = {\n        // Core quiz stats - these come from result.stats\n        totalQuestions: ((_result$quizConfig = result.quizConfig) === null || _result$quizConfig === void 0 ? void 0 : _result$quizConfig.totalQuestions) || 30,\n        answeredQuestions: ((_result$stats5 = result.stats) === null || _result$stats5 === void 0 ? void 0 : _result$stats5.answeredQuestions) || 0,\n        correctAnswers: ((_result$stats6 = result.stats) === null || _result$stats6 === void 0 ? void 0 : _result$stats6.correctAnswers) || 0,\n        skippedQuestions: ((_result$stats7 = result.stats) === null || _result$stats7 === void 0 ? void 0 : _result$stats7.skippedQuestions) || 0,\n        totalScore: ((_result$stats8 = result.stats) === null || _result$stats8 === void 0 ? void 0 : _result$stats8.totalScore) || 0,\n        maxScore: ((_result$stats9 = result.stats) === null || _result$stats9 === void 0 ? void 0 : _result$stats9.maxScore) || 0,\n        percentage: ((_result$stats0 = result.stats) === null || _result$stats0 === void 0 ? void 0 : _result$stats0.percentage) || 0,\n        grade: ((_result$stats1 = result.stats) === null || _result$stats1 === void 0 ? void 0 : _result$stats1.grade) || 'F',\n        passed: Boolean((_result$stats10 = result.stats) === null || _result$stats10 === void 0 ? void 0 : _result$stats10.passed),\n        // Quiz configuration - preserve original structure\n        quizConfig: {\n          title: ((_result$quizConfig2 = result.quizConfig) === null || _result$quizConfig2 === void 0 ? void 0 : _result$quizConfig2.title) || 'Web Development Fundamentals Quiz',\n          timeLimit: ((_result$quizConfig3 = result.quizConfig) === null || _result$quizConfig3 === void 0 ? void 0 : _result$quizConfig3.timeLimit) || 1800,\n          passingScore: ((_result$quizConfig4 = result.quizConfig) === null || _result$quizConfig4 === void 0 ? void 0 : _result$quizConfig4.passingScore) || 70,\n          totalQuestions: ((_result$quizConfig5 = result.quizConfig) === null || _result$quizConfig5 === void 0 ? void 0 : _result$quizConfig5.totalQuestions) || 30\n        },\n        // Student information - preserve original structure\n        student: {\n          name: ((_result$student = result.student) === null || _result$student === void 0 ? void 0 : _result$student.name) || (user === null || user === void 0 ? void 0 : user.name) || 'Hari Krishna',\n          email: ((_result$student2 = result.student) === null || _result$student2 === void 0 ? void 0 : _result$student2.email) || (user === null || user === void 0 ? void 0 : user.email) || 'notbot4444@gmail.com'\n        },\n        // Timing data - CRITICAL for time display\n        timing: {\n          startTime: ((_result$timing = result.timing) === null || _result$timing === void 0 ? void 0 : _result$timing.startTime) || new Date('2025-07-06T12:07:30.675Z'),\n          submitTime: ((_result$timing2 = result.timing) === null || _result$timing2 === void 0 ? void 0 : _result$timing2.submitTime) || new Date('2025-07-06T12:07:44.084Z'),\n          totalTimeSpent: ((_result$timing3 = result.timing) === null || _result$timing3 === void 0 ? void 0 : _result$timing3.totalTimeSpent) || 13409,\n          // This is the key field!\n          totalTimeSpentFormatted: ((_result$timing4 = result.timing) === null || _result$timing4 === void 0 ? void 0 : _result$timing4.totalTimeSpentFormatted) || '00:13',\n          averageTimePerQuestion: ((_result$timing5 = result.timing) === null || _result$timing5 === void 0 ? void 0 : _result$timing5.averageTimePerQuestion) || 0\n        },\n        // Submission details\n        submission: {\n          reason: ((_result$submission = result.submission) === null || _result$submission === void 0 ? void 0 : _result$submission.reason) || 'completed',\n          timestamp: ((_result$submission2 = result.submission) === null || _result$submission2 === void 0 ? void 0 : _result$submission2.timestamp) || new Date()\n        },\n        // Question results - preserve original array\n        questionResults: Array.isArray(result.questionResults) ? result.questionResults : [],\n        // Analytics data - preserve original structure\n        analytics: result.analytics || {\n          summary: {},\n          categoryBreakdown: {},\n          difficultyBreakdown: {},\n          timeAnalysis: {}\n        }\n      };\n      console.log('✅ Complete data structure being passed:', completeResultData);\n\n      // Store complete data in localStorage\n      localStorage.setItem('quiz-results', JSON.stringify(completeResultData));\n\n      // Navigate with complete data\n      navigate('/results', {\n        state: {\n          fromHistory: true,\n          resultId: result._id,\n          results: completeResultData // ✅ Complete structure\n        }\n      });\n    } catch (error) {\n      console.error('❌ Error viewing result:', error);\n      onError === null || onError === void 0 ? void 0 : onError('Failed to view result details');\n    }\n  }, [navigate, onError, user]);\n\n  // Enhanced delete with proper error handling\n  const deleteResult = useCallback(async resultId => {\n    if (!resultId) return;\n    if (!window.confirm('Are you sure you want to delete this result? This action cannot be undone.')) {\n      return;\n    }\n    try {\n      const originalResults = [...state.results];\n\n      // Optimistic update\n      setState(prev => ({\n        ...prev,\n        results: prev.results.filter(r => r._id !== resultId),\n        totalResults: Math.max(0, prev.totalResults - 1)\n      }));\n      const response = await fetch(`${API_BASE_URL}/api/quiz-results/${resultId}`, {\n        method: 'DELETE',\n        headers: getAuthHeaders()\n      });\n      if (!response.ok) {\n        // Revert on failure\n        setState(prev => ({\n          ...prev,\n          results: originalResults\n        }));\n        throw new Error(`Failed to delete result: ${response.statusText}`);\n      }\n      onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess('Result deleted successfully');\n    } catch (error) {\n      console.error('Error deleting result:', error);\n      onError === null || onError === void 0 ? void 0 : onError('Failed to delete result');\n    }\n  }, [state.results, getAuthHeaders, onSuccess, onError]);\n\n  // Enhanced bulk delete\n  const handleBulkDelete = useCallback(async () => {\n    const selectedIds = Array.from(ui.selectedResults).filter(id => id);\n    if (selectedIds.length === 0) return;\n    if (!window.confirm(`Are you sure you want to delete ${selectedIds.length} results? This action cannot be undone.`)) {\n      return;\n    }\n    try {\n      const originalResults = [...state.results];\n\n      // Optimistic update\n      setState(prev => ({\n        ...prev,\n        results: prev.results.filter(r => !selectedIds.includes(r._id)),\n        totalResults: Math.max(0, prev.totalResults - selectedIds.length)\n      }));\n      const deletePromises = selectedIds.map(id => fetch(`${API_BASE_URL}/api/quiz-results/${id}`, {\n        method: 'DELETE',\n        headers: getAuthHeaders()\n      }));\n      const responses = await Promise.allSettled(deletePromises);\n      const failedDeletes = responses.filter(r => {\n        var _r$value;\n        return r.status === 'rejected' || !((_r$value = r.value) !== null && _r$value !== void 0 && _r$value.ok);\n      });\n      if (failedDeletes.length > 0) {\n        // Revert on partial failure\n        setState(prev => ({\n          ...prev,\n          results: originalResults\n        }));\n        throw new Error(`Failed to delete ${failedDeletes.length} results`);\n      }\n      setUi(prev => ({\n        ...prev,\n        selectedResults: new Set()\n      }));\n      onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess(`${selectedIds.length} results deleted successfully`);\n    } catch (error) {\n      console.error('Bulk delete error:', error);\n      onError === null || onError === void 0 ? void 0 : onError('Failed to delete selected results');\n    }\n  }, [ui.selectedResults, state.results, getAuthHeaders, onSuccess, onError]);\n\n  // Enhanced export with data validation\n  const exportResults = useCallback((format = 'csv') => {\n    try {\n      if (!Array.isArray(processedResults) || processedResults.length === 0) {\n        onError === null || onError === void 0 ? void 0 : onError('No results to export');\n        return;\n      }\n      const data = processedResults.map(result => {\n        var _result$quizConfig6, _result$stats11, _result$stats12, _result$stats13, _result$timing6, _result$stats14, _result$quizConfig7;\n        const createdAt = new Date(result.createdAt);\n        const isValidDate = createdAt instanceof Date && !isNaN(createdAt);\n        return {\n          date: isValidDate ? createdAt.toLocaleDateString() : 'Unknown',\n          time: isValidDate ? createdAt.toLocaleTimeString() : 'Unknown',\n          title: ((_result$quizConfig6 = result.quizConfig) === null || _result$quizConfig6 === void 0 ? void 0 : _result$quizConfig6.title) || 'Quiz',\n          score: Number.isFinite((_result$stats11 = result.stats) === null || _result$stats11 === void 0 ? void 0 : _result$stats11.percentage) ? result.stats.percentage : 0,\n          grade: ((_result$stats12 = result.stats) === null || _result$stats12 === void 0 ? void 0 : _result$stats12.grade) || 'N/A',\n          status: (_result$stats13 = result.stats) !== null && _result$stats13 !== void 0 && _result$stats13.passed ? 'Passed' : 'Failed',\n          timeTaken: ((_result$timing6 = result.timing) === null || _result$timing6 === void 0 ? void 0 : _result$timing6.totalTimeSpentFormatted) || '0:00',\n          correctAnswers: Number.isFinite((_result$stats14 = result.stats) === null || _result$stats14 === void 0 ? void 0 : _result$stats14.correctAnswers) ? result.stats.correctAnswers : 0,\n          totalQuestions: Number.isFinite((_result$quizConfig7 = result.quizConfig) === null || _result$quizConfig7 === void 0 ? void 0 : _result$quizConfig7.totalQuestions) ? result.quizConfig.totalQuestions : 0\n        };\n      });\n      let content, mimeType, extension;\n      switch (format) {\n        case 'json':\n          content = JSON.stringify(data, null, 2);\n          mimeType = 'application/json';\n          extension = 'json';\n          break;\n        default:\n          content = ['Date,Time,Title,Score,Grade,Status,Time Taken,Correct Answers,Total Questions', ...data.map(row => `\"${row.date}\",\"${row.time}\",\"${row.title}\",\"${row.score}%\",\"${row.grade}\",\"${row.status}\",\"${row.timeTaken}\",\"${row.correctAnswers}\",\"${row.totalQuestions}\"`)].join('\\n');\n          mimeType = 'text/csv';\n          extension = 'csv';\n      }\n      const blob = new Blob([content], {\n        type: mimeType\n      });\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `quiz-results-${new Date().toISOString().split('T')[0]}.${extension}`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      window.URL.revokeObjectURL(url);\n      onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess(`Results exported as ${format.toUpperCase()} successfully!`);\n    } catch (error) {\n      console.error('Export error:', error);\n      onError === null || onError === void 0 ? void 0 : onError('Failed to export results');\n    }\n  }, [processedResults, onSuccess, onError]);\n\n  // Save view mode preference\n  useEffect(() => {\n    localStorage.setItem('resultsViewMode', ui.viewMode);\n  }, [ui.viewMode]);\n\n  // Online/offline detection\n  useEffect(() => {\n    const handleOnline = () => setUi(prev => ({\n      ...prev,\n      isOffline: false\n    }));\n    const handleOffline = () => setUi(prev => ({\n      ...prev,\n      isOffline: true\n    }));\n    window.addEventListener('online', handleOnline);\n    window.addEventListener('offline', handleOffline);\n    return () => {\n      window.removeEventListener('online', handleOnline);\n      window.removeEventListener('offline', handleOffline);\n    };\n  }, []);\n\n  // Keyboard shortcuts\n  useEffect(() => {\n    const handleKeyDown = e => {\n      var _document$querySelect;\n      if (e.ctrlKey || e.metaKey) {\n        switch (e.key) {\n          case 'f':\n            e.preventDefault();\n            (_document$querySelect = document.querySelector('.search-input')) === null || _document$querySelect === void 0 ? void 0 : _document$querySelect.focus();\n            break;\n          case 'e':\n            e.preventDefault();\n            exportResults();\n            break;\n          case 'a':\n            if (processedResults.length > 0) {\n              e.preventDefault();\n              setUi(prev => ({\n                ...prev,\n                selectedResults: new Set(processedResults.map(r => r._id))\n              }));\n            }\n            break;\n        }\n      }\n    };\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [exportResults, processedResults]);\n\n  // Cleanup\n  useEffect(() => {\n    return () => {\n      if (abortControllerRef.current) {\n        abortControllerRef.current.abort();\n      }\n      if (searchTimeoutRef.current) {\n        clearTimeout(searchTimeoutRef.current);\n      }\n    };\n  }, []);\n\n  // Loading state\n  if (state.loading && !state.results.length) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"all-results-loading\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1019,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Loading Quiz History...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1020,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Fetching your quiz results\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1021,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1018,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1017,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Error state\n  if (state.error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"all-results-error\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u26A0\\uFE0F Something went wrong\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1032,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: state.error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1033,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => fetchResults(1),\n            className: \"action-btn primary\",\n            children: \"\\uD83D\\uDD04 Retry\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1035,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('/'),\n            className: \"action-btn outline\",\n            children: \"\\uD83C\\uDFE0 Go Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1038,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1034,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1031,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1030,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"all-results-container\",\n    role: \"main\",\n    \"aria-label\": \"Quiz Results\",\n    children: [ui.isOffline && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"offline-banner\",\n      role: \"alert\",\n      children: \"\\uD83D\\uDCE1 You're offline. Some features may be limited.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1051,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"all-results-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-title\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"\\uD83D\\uDCCA Quiz History\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1060,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Your complete quiz performance overview\", enhancedStats && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stats-summary\",\n              children: [\"\\u2022 \", enhancedStats.totalQuizzes, \" quizzes \\u2022 \", enhancedStats.averageScore, \"% avg\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1064,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1061,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1059,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('/quiz'),\n            className: \"action-btn primary\",\n            \"aria-label\": \"Take a new quiz\",\n            children: \"\\uD83D\\uDCDD Take New Quiz\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1071,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setUi(prev => ({\n              ...prev,\n              showVisualization: !prev.showVisualization\n            })),\n            className: \"action-btn outline\",\n            \"aria-label\": ui.showVisualization ? 'Hide charts' : 'Show charts',\n            children: [\"\\uD83D\\uDCC8 \", ui.showVisualization ? 'Hide' : 'Show', \" Charts\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1078,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('/'),\n            className: \"action-btn outline\",\n            \"aria-label\": \"Go to home page\",\n            children: \"\\uD83C\\uDFE0 Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1085,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1070,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1058,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1057,\n      columnNumber: 7\n    }, this), ui.showVisualization && enhancedStats && chartData && /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"visualization-section\",\n      \"aria-label\": \"Performance visualizations\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"charts-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"charts-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-item\",\n            children: /*#__PURE__*/_jsxDEV(LineChart, {\n              data: chartData.lineChartData,\n              width: 600,\n              height: 250,\n              title: \"\\uD83D\\uDCC8 Performance Trend (Last 10 Quizzes)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1103,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1102,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-item\",\n            children: /*#__PURE__*/_jsxDEV(BarChart, {\n              data: chartData.barChartData,\n              width: 500,\n              height: 250,\n              title: \"\\uD83D\\uDCCA Score Distribution\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1113,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1112,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-item\",\n            children: /*#__PURE__*/_jsxDEV(DonutChart, {\n              passed: enhancedStats.passedCount,\n              failed: enhancedStats.failedCount,\n              width: 250,\n              height: 250\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1123,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1122,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-item insights-panel\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"chart-title\",\n              children: \"\\uD83C\\uDFAF Performance Insights\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1133,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"insights-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"insight-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"insight-icon\",\n                  children: \"\\uD83C\\uDFC6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1136,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"insight-text\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Best Performance:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1138,\n                    columnNumber: 23\n                  }, this), \" \", enhancedStats.bestScore, \"% score\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1137,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1135,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"insight-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"insight-icon\",\n                  children: \"\\uD83D\\uDCCA\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1142,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"insight-text\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Consistency:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1144,\n                    columnNumber: 23\n                  }, this), \" \", enhancedStats.consistencyScore, \"% consistency score\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1143,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1141,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"insight-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"insight-icon\",\n                  children: \"\\u26A1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1148,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"insight-text\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Recent Activity:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1150,\n                    columnNumber: 23\n                  }, this), \" \", enhancedStats.lastWeekCount, \" quizzes this week\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1149,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1147,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"insight-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"insight-icon\",\n                  children: enhancedStats.recentTrend === 'improving' ? '📈' : enhancedStats.recentTrend === 'declining' ? '📉' : '➡️'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1154,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"insight-text\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Trend:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1159,\n                    columnNumber: 23\n                  }, this), \" Your performance is \", enhancedStats.recentTrend, enhancedStats.trendPercentage !== 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\" (\", enhancedStats.trendPercentage, \"%)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1161,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1158,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1153,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1134,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1132,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1100,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1099,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1098,\n      columnNumber: 9\n    }, this), enhancedStats && /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"overall-stats\",\n      \"aria-labelledby\": \"stats-heading\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        id: \"stats-heading\",\n        children: \"\\uD83D\\uDCC8 Performance Analytics\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1175,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          tabIndex: \"0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83D\\uDCCA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1178,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-value\",\n              children: enhancedStats.totalQuizzes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1180,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-label\",\n              children: \"Total Quizzes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1181,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1179,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1177,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          tabIndex: \"0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83C\\uDFAF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1185,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-value\",\n              children: [enhancedStats.averageScore, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1187,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-label\",\n              children: \"Average Score\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1188,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1186,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1184,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          tabIndex: \"0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83C\\uDFC6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1192,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-value\",\n              children: [enhancedStats.bestScore, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1194,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-label\",\n              children: \"Best Score\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1195,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1193,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1191,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          tabIndex: \"0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\u2705\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1199,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-value\",\n              children: [enhancedStats.passRate, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1201,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-label\",\n              children: \"Pass Rate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1202,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1200,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1198,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          tabIndex: \"0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\u23F0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1206,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-value\",\n              children: [enhancedStats.totalTimeHours, \"h\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1208,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-label\",\n              children: \"Total Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1209,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1207,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1205,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          tabIndex: \"0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: enhancedStats.recentTrend === 'improving' ? '📈' : enhancedStats.recentTrend === 'declining' ? '📉' : '➡️'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1213,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-value\",\n              children: enhancedStats.recentTrend === 'improving' ? 'Improving' : enhancedStats.recentTrend === 'declining' ? 'Declining' : 'Stable'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1218,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-label\",\n              children: \"Recent Trend\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1222,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1217,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1212,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1176,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1174,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"results-controls\",\n      \"aria-label\": \"Filter and search controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"controls-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search quizzes... (Ctrl+F)\",\n            value: filters.searchTerm,\n            onChange: e => setFilters(prev => ({\n              ...prev,\n              searchTerm: e.target.value\n            })),\n            className: \"search-input\",\n            \"aria-label\": \"Search quizzes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-search search-icon\",\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1241,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: filters.filterBy,\n          onChange: e => setFilters(prev => ({\n            ...prev,\n            filterBy: e.target.value\n          })),\n          className: \"filter-select\",\n          \"aria-label\": \"Filter results by status\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"All Results\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"passed\",\n            children: \"Passed Only\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1251,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"failed\",\n            children: \"Failed Only\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1252,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"high-score\",\n            children: \"High Scores (80%+)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1253,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"recent\",\n            children: \"Recent (Last Week)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1254,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: filters.dateRange,\n          onChange: e => setFilters(prev => ({\n            ...prev,\n            dateRange: e.target.value\n          })),\n          className: \"filter-select\",\n          \"aria-label\": \"Filter by date range\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"All Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1263,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"today\",\n            children: \"Today\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1264,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"week\",\n            children: \"This Week\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1265,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"month\",\n            children: \"This Month\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1266,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"quarter\",\n            children: \"Last 3 Months\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"year\",\n            children: \"This Year\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1268,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1257,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: filters.sortBy,\n          onChange: e => setFilters(prev => ({\n            ...prev,\n            sortBy: e.target.value\n          })),\n          className: \"sort-select\",\n          \"aria-label\": \"Sort results by\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"date\",\n            children: \"Sort by Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1277,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"score\",\n            children: \"Sort by Score\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1278,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"title\",\n            children: \"Sort by Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1279,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"time\",\n            children: \"Sort by Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1280,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1271,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1231,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"controls-right\",\n        children: [ui.selectedResults.size > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bulk-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"selection-count\",\n            children: [ui.selectedResults.size, \" selected\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1287,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleBulkDelete,\n            className: \"action-btn small danger\",\n            \"aria-label\": `Delete ${ui.selectedResults.size} selected results`,\n            children: \"\\uD83D\\uDDD1\\uFE0F Delete Selected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1290,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setUi(prev => ({\n              ...prev,\n              selectedResults: new Set()\n            })),\n            className: \"action-btn small outline\",\n            \"aria-label\": \"Clear selection\",\n            children: \"\\u2715 Clear\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1297,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1286,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"view-toggle\",\n          role: \"radiogroup\",\n          \"aria-label\": \"View mode\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `view-btn ${ui.viewMode === 'cards' ? 'active' : ''}`,\n            onClick: () => setUi(prev => ({\n              ...prev,\n              viewMode: 'cards'\n            })),\n            \"aria-label\": \"Card view\",\n            role: \"radio\",\n            \"aria-checked\": ui.viewMode === 'cards',\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-th\",\n              \"aria-hidden\": \"true\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1315,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1308,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `view-btn ${ui.viewMode === 'list' ? 'active' : ''}`,\n            onClick: () => setUi(prev => ({\n              ...prev,\n              viewMode: 'list'\n            })),\n            \"aria-label\": \"List view\",\n            role: \"radio\",\n            \"aria-checked\": ui.viewMode === 'list',\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-list\",\n              \"aria-hidden\": \"true\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1324,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1317,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1307,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"export-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => exportResults('csv'),\n            className: \"export-btn\",\n            children: \"\\uD83D\\uDCC4 Export CSV\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1329,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => exportResults('json'),\n            className: \"export-btn\",\n            children: \"\\uD83D\\uDCCB Export JSON\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1332,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1328,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1284,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1230,\n      columnNumber: 7\n    }, this), processedResults.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-results\",\n      role: \"region\",\n      \"aria-label\": \"No results found\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-results-icon\",\n        children: \"\\uD83D\\uDCED\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1342,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"No Results Found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1343,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: filters.searchTerm || filters.filterBy !== 'all' || filters.dateRange !== 'all' ? 'No quizzes match your current filters. Try adjusting your search or filters.' : 'You haven\\'t taken any quizzes yet. Take your first quiz to get started!'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1344,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-results-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/quiz'),\n          className: \"action-btn primary\",\n          children: \"\\uD83D\\uDCDD Take Your First Quiz\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1351,\n          columnNumber: 13\n        }, this), (filters.searchTerm || filters.filterBy !== 'all' || filters.dateRange !== 'all') && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setFilters({\n            searchTerm: '',\n            sortBy: 'date',\n            filterBy: 'all',\n            dateRange: 'all',\n            scoreRange: [0, 100]\n          }),\n          className: \"action-btn outline\",\n          children: \"\\uD83D\\uDD04 Clear Filters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1355,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1350,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1341,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"results-section\",\n      \"aria-label\": \"Quiz results\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"results-actions-bar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"results-count\",\n          children: [\"Showing \", processedResults.length, \" of \", state.totalResults, \" results\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1373,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"select-actions\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setUi(prev => ({\n              ...prev,\n              selectedResults: new Set(processedResults.map(r => r._id))\n            })),\n            className: \"action-btn small outline\",\n            disabled: processedResults.length === 0,\n            children: \"Select All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1377,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1376,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1372,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `results-grid ${ui.viewMode}`,\n        role: \"grid\",\n        children: processedResults.map(result => {\n          var _result$quizConfig8, _result$quizConfig9, _result$quizConfig0, _result$quizConfig1, _result$stats15, _result$stats16, _result$stats17, _result$stats18, _result$stats19, _result$stats20, _result$quizConfig10, _result$timing7, _result$stats21;\n          return /*#__PURE__*/_jsxDEV(\"article\", {\n            className: `result-card ${ui.selectedResults.has(result._id) ? 'selected' : ''}`,\n            role: \"gridcell\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"result-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"result-checkbox\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: ui.selectedResults.has(result._id),\n                  onChange: e => {\n                    const newSelected = new Set(ui.selectedResults);\n                    if (e.target.checked) {\n                      newSelected.add(result._id);\n                    } else {\n                      newSelected.delete(result._id);\n                    }\n                    setUi(prev => ({\n                      ...prev,\n                      selectedResults: newSelected\n                    }));\n                  },\n                  \"aria-label\": `Select ${((_result$quizConfig8 = result.quizConfig) === null || _result$quizConfig8 === void 0 ? void 0 : _result$quizConfig8.title) || 'quiz'}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1399,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1398,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"result-title\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: ((_result$quizConfig9 = result.quizConfig) === null || _result$quizConfig9 === void 0 ? void 0 : _result$quizConfig9.title) || 'Quiz'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1415,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"time\", {\n                  className: \"result-date\",\n                  dateTime: result.createdAt,\n                  children: new Date(result.createdAt).toLocaleDateString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1416,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1414,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"result-actions\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => viewResult(result),\n                  className: \"action-btn small\",\n                  title: \"View Details\",\n                  \"aria-label\": `View details for ${((_result$quizConfig0 = result.quizConfig) === null || _result$quizConfig0 === void 0 ? void 0 : _result$quizConfig0.title) || 'quiz'}`,\n                  children: \"\\uD83D\\uDC41\\uFE0F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1421,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => deleteResult(result._id),\n                  className: \"action-btn small danger\",\n                  title: \"Delete Result\",\n                  \"aria-label\": `Delete ${((_result$quizConfig1 = result.quizConfig) === null || _result$quizConfig1 === void 0 ? void 0 : _result$quizConfig1.title) || 'quiz'} result`,\n                  children: \"\\uD83D\\uDDD1\\uFE0F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1429,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1420,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1397,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"result-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"score-display\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `score-circle ${(_result$stats15 = result.stats) !== null && _result$stats15 !== void 0 && _result$stats15.passed ? 'passed' : 'failed'}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"score-number\",\n                    children: [Number.isFinite((_result$stats16 = result.stats) === null || _result$stats16 === void 0 ? void 0 : _result$stats16.percentage) ? result.stats.percentage : 0, \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1443,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"score-grade\",\n                    children: ((_result$stats17 = result.stats) === null || _result$stats17 === void 0 ? void 0 : _result$stats17.grade) || 'N/A'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1446,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1442,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1441,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"result-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-label\",\n                    children: \"Status:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1452,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `detail-value ${(_result$stats18 = result.stats) !== null && _result$stats18 !== void 0 && _result$stats18.passed ? 'passed' : 'failed'}`,\n                    children: (_result$stats19 = result.stats) !== null && _result$stats19 !== void 0 && _result$stats19.passed ? '✅ Passed' : '❌ Failed'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1453,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1451,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-label\",\n                    children: \"Score:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1458,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-value\",\n                    children: [Number.isFinite((_result$stats20 = result.stats) === null || _result$stats20 === void 0 ? void 0 : _result$stats20.correctAnswers) ? result.stats.correctAnswers : 0, \" / \", Number.isFinite((_result$quizConfig10 = result.quizConfig) === null || _result$quizConfig10 === void 0 ? void 0 : _result$quizConfig10.totalQuestions) ? result.quizConfig.totalQuestions : 0]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1459,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1457,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-label\",\n                    children: \"Time:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1464,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-value\",\n                    children: ((_result$timing7 = result.timing) === null || _result$timing7 === void 0 ? void 0 : _result$timing7.totalTimeSpentFormatted) || '0:00'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1465,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1463,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-label\",\n                    children: \"Questions:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1470,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-value\",\n                    children: [Number.isFinite((_result$stats21 = result.stats) === null || _result$stats21 === void 0 ? void 0 : _result$stats21.answeredQuestions) ? result.stats.answeredQuestions : 0, \" answered\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1471,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1469,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1450,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1440,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n              className: \"result-footer\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"performance-indicator\",\n                children: (_result$stats22 => {\n                  const percentage = Number.isFinite((_result$stats22 = result.stats) === null || _result$stats22 === void 0 ? void 0 : _result$stats22.percentage) ? result.stats.percentage : 0;\n                  if (percentage >= 90) return /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"performance excellent\",\n                    children: \"\\uD83C\\uDFC6 Excellent\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1482,\n                    columnNumber: 52\n                  }, this);\n                  if (percentage >= 80) return /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"performance good\",\n                    children: \"\\u2B50 Good\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1483,\n                    columnNumber: 52\n                  }, this);\n                  if (percentage >= 70) return /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"performance average\",\n                    children: \"\\uD83D\\uDC4D Average\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1484,\n                    columnNumber: 52\n                  }, this);\n                  return /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"performance needs-improvement\",\n                    children: \"\\uD83D\\uDCDA Needs Improvement\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1485,\n                    columnNumber: 30\n                  }, this);\n                })()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1479,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"time\", {\n                className: \"result-time\",\n                dateTime: result.createdAt,\n                children: new Date(result.createdAt).toLocaleTimeString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1488,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1478,\n              columnNumber: 17\n            }, this)]\n          }, result._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1392,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1390,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1371,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1048,\n    columnNumber: 5\n  }, this);\n};\n_s(AllResults, \"UlHn+jfXMeKPZE4hJG9IFJ34c28=\", false, function () {\n  return [useNavigate];\n});\n_c4 = AllResults;\nAllResults.propTypes = {\n  onError: PropTypes.func,\n  onSuccess: PropTypes.func\n};\nexport default AllResults;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"LineChart\");\n$RefreshReg$(_c2, \"BarChart\");\n$RefreshReg$(_c3, \"DonutChart\");\n$RefreshReg$(_c4, \"AllResults\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useCallback","useRef","useNavigate","PropTypes","jsxDEV","_jsxDEV","API_BASE_URL","process","env","REACT_APP_API_URL","safeMath","divide","numerator","denominator","fallback","Number","isFinite","result","percentage","Math","round","average","values","Array","isArray","length","validValues","filter","v","sum","reduce","a","b","max","min","variance","mean","value","pow","decimals","LineChart","data","width","height","title","className","children","fileName","_jsxFileName","lineNumber","columnNumber","scores","map","d","score","s","maxScore","minScore","padding","chartWidth","chartHeight","scoreRange","points","i","x","y","join","id","patternUnits","fill","stroke","strokeWidth","x1","y1","x2","y2","cx","cy","r","tabIndex","date","fontSize","textAnchor","shortDate","_c","BarChart","validData","maxValue","barWidth","barSpacing","barHeight","label","fontWeight","_c2","DonutChart","passed","failed","passedCount","failedCount","total","radius","innerRadius","centerX","centerY","passedAngle","PI","failedAngle","createArcPath","startAngle","endAngle","outerRadius","cos","sin","x3","y3","x4","y4","largeArc","style","backgroundColor","_c3","AllResults","onError","onSuccess","_s","navigate","abortControllerRef","searchTimeoutRef","state","setState","results","loading","error","currentPage","totalPages","totalResults","hasNextPage","isLoadingMore","lastFetchTime","filters","setFilters","searchTerm","sortBy","filterBy","dateRange","ui","setUi","viewMode","localStorage","getItem","selectedResults","Set","showVisualization","isOffline","navigator","onLine","debouncedSearchTerm","setDebouncedSearchTerm","user","setUser","current","clearTimeout","setTimeout","loadUser","userData","parsedUser","JSON","parse","console","getAuthHeaders","token","Error","fetchResults","page","append","retryCount","_id","warn","abort","AbortController","prev","queryParams","URLSearchParams","toString","limit","search","sort","scoreMin","scoreMax","response","fetch","headers","signal","ok","status","removeItem","statusText","json","items","newState","Boolean","Date","now","name","message","includes","log","stringify","enhancedStats","_r$stats","stats","totalQuizzes","_r$stats2","totalTime","_r$timing","timeSpent","timing","totalTimeSpent","recent","slice","previous","recentAvg","previousAvg","recentTrend","trendPercentage","diff","abs","standardDeviation","sqrt","consistencyScore","weekAgo","setDate","getDate","lastWeekCount","createdAt","isNaN","averageScore","bestScore","worstScore","passRate","totalTimeHours","medianScore","floor","chartData","validResults","_r$stats3","lineChartData","toLocaleDateString","month","day","scoreRanges","barChartData","range","_r$stats4","processedResults","processed","cutoff","setHours","setMonth","getMonth","setFullYear","getFullYear","resultDate","_result$stats","_result$stats2","_result$stats3","_result$stats4","oneWeekAgo","_a$stats","_b$stats","_a$quizConfig","_b$quizConfig","_a$timing","_b$timing","dateA","dateB","scoreA","scoreB","titleA","quizConfig","titleB","localeCompare","timeA","timeB","viewResult","_result$quizConfig","_result$stats5","_result$stats6","_result$stats7","_result$stats8","_result$stats9","_result$stats0","_result$stats1","_result$stats10","_result$quizConfig2","_result$quizConfig3","_result$quizConfig4","_result$quizConfig5","_result$student","_result$student2","_result$timing","_result$timing2","_result$timing3","_result$timing4","_result$timing5","_result$submission","_result$submission2","completeResultData","totalQuestions","answeredQuestions","correctAnswers","skippedQuestions","totalScore","grade","timeLimit","passingScore","student","email","startTime","submitTime","totalTimeSpentFormatted","averageTimePerQuestion","submission","reason","timestamp","questionResults","analytics","summary","categoryBreakdown","difficultyBreakdown","timeAnalysis","setItem","fromHistory","resultId","deleteResult","window","confirm","originalResults","method","handleBulkDelete","selectedIds","from","deletePromises","responses","Promise","allSettled","failedDeletes","_r$value","exportResults","format","_result$quizConfig6","_result$stats11","_result$stats12","_result$stats13","_result$timing6","_result$stats14","_result$quizConfig7","isValidDate","time","toLocaleTimeString","timeTaken","content","mimeType","extension","row","blob","Blob","type","url","URL","createObjectURL","document","createElement","href","download","toISOString","split","body","appendChild","click","removeChild","revokeObjectURL","toUpperCase","handleOnline","handleOffline","addEventListener","removeEventListener","handleKeyDown","e","_document$querySelect","ctrlKey","metaKey","key","preventDefault","querySelector","focus","onClick","role","placeholder","onChange","target","size","disabled","_result$quizConfig8","_result$quizConfig9","_result$quizConfig0","_result$quizConfig1","_result$stats15","_result$stats16","_result$stats17","_result$stats18","_result$stats19","_result$stats20","_result$quizConfig10","_result$timing7","_result$stats21","has","checked","newSelected","add","delete","dateTime","_result$stats22","_c4","propTypes","func","$RefreshReg$"],"sources":["/Users/thoraj/Desktop/QUIZZZZZZ/frontend/src/components/AllResults.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo, useCallback, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport '../styles/AllResults.css';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\r\n\r\n// Safe math utilities\r\nconst safeMath = {\r\n  divide: (numerator, denominator, fallback = 0) => {\r\n    if (!denominator || denominator === 0 || !Number.isFinite(denominator)) return fallback;\r\n    const result = numerator / denominator;\r\n    return Number.isFinite(result) ? result : fallback;\r\n  },\r\n  \r\n  percentage: (numerator, denominator, fallback = 0) => {\r\n    if (!denominator || denominator === 0 || !Number.isFinite(denominator)) return fallback;\r\n    const result = (numerator / denominator) * 100;\r\n    return Number.isFinite(result) ? Math.round(result) : fallback;\r\n  },\r\n  \r\n  average: (values, fallback = 0) => {\r\n    if (!Array.isArray(values) || values.length === 0) return fallback;\r\n    const validValues = values.filter(v => Number.isFinite(v));\r\n    if (validValues.length === 0) return fallback;\r\n    const sum = validValues.reduce((a, b) => a + b, 0);\r\n    return Math.round(sum / validValues.length);\r\n  },\r\n  \r\n  max: (values, fallback = 0) => {\r\n    if (!Array.isArray(values) || values.length === 0) return fallback;\r\n    const validValues = values.filter(v => Number.isFinite(v));\r\n    return validValues.length > 0 ? Math.max(...validValues) : fallback;\r\n  },\r\n  \r\n  min: (values, fallback = 0) => {\r\n    if (!Array.isArray(values) || values.length === 0) return fallback;\r\n    const validValues = values.filter(v => Number.isFinite(v));\r\n    return validValues.length > 0 ? Math.min(...validValues) : fallback;\r\n  },\r\n  \r\n  variance: (values, fallback = 0) => {\r\n    if (!Array.isArray(values) || values.length === 0) return fallback;\r\n    const validValues = values.filter(v => Number.isFinite(v));\r\n    if (validValues.length === 0) return fallback;\r\n    const mean = validValues.reduce((a, b) => a + b, 0) / validValues.length;\r\n    const variance = validValues.reduce((sum, value) => sum + Math.pow(value - mean, 2), 0) / validValues.length;\r\n    return Number.isFinite(variance) ? variance : fallback;\r\n  },\r\n  \r\n  round: (value, decimals = 0) => {\r\n    if (!Number.isFinite(value)) return 0;\r\n    return Math.round(value * Math.pow(10, decimals)) / Math.pow(10, decimals);\r\n  }\r\n};\r\n\r\n// Simple Line Chart Component\r\nconst LineChart = ({ data, width = 500, height = 200, title }) => {\r\n  if (!data || data.length === 0) {\r\n    return (\r\n      <div className=\"chart-placeholder\">\r\n        <p>📊 No data available for {title}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const scores = data.map(d => d.score).filter(s => Number.isFinite(s));\r\n  if (scores.length === 0) {\r\n    return (\r\n      <div className=\"chart-placeholder\">\r\n        <p>📊 No valid data for {title}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const maxScore = safeMath.max(scores, 100);\r\n  const minScore = safeMath.min(scores, 0);\r\n  const padding = 40;\r\n  const chartWidth = width - 2 * padding;\r\n  const chartHeight = height - 2 * padding;\r\n  const scoreRange = maxScore - minScore || 1;\r\n\r\n  const points = data.map((d, i) => {\r\n    const x = padding + (i * chartWidth) / Math.max(data.length - 1, 1);\r\n    const y = height - padding - ((d.score - minScore) / scoreRange) * chartHeight;\r\n    return `${x},${y}`;\r\n  }).join(' ');\r\n\r\n  return (\r\n    <div className=\"chart-wrapper\">\r\n      <h4 className=\"chart-title\">{title}</h4>\r\n      <svg width={width} height={height} className=\"line-chart\">\r\n        <defs>\r\n          <pattern id=\"grid\" width=\"40\" height=\"20\" patternUnits=\"userSpaceOnUse\">\r\n            <path d=\"M 40 0 L 0 0 0 20\" fill=\"none\" stroke=\"#f0f0f0\" strokeWidth=\"1\"/>\r\n          </pattern>\r\n        </defs>\r\n        <rect width=\"100%\" height=\"100%\" fill=\"url(#grid)\" />\r\n        \r\n        <line x1={padding} y1={height - padding} x2={width - padding} y2={height - padding} stroke=\"#ddd\" strokeWidth=\"2\"/>\r\n        <line x1={padding} y1={padding} x2={padding} y2={height - padding} stroke=\"#ddd\" strokeWidth=\"2\"/>\r\n\r\n        <polyline\r\n          fill=\"none\"\r\n          stroke=\"var(--primary-600)\"\r\n          strokeWidth=\"3\"\r\n          points={points}\r\n          className=\"chart-line\"\r\n        />\r\n\r\n        {data.map((d, i) => {\r\n          const x = padding + (i * chartWidth) / Math.max(data.length - 1, 1);\r\n          const y = height - padding - ((d.score - minScore) / scoreRange) * chartHeight;\r\n          return (\r\n            <circle \r\n              key={i} \r\n              cx={x} \r\n              cy={y} \r\n              r={4} \r\n              fill=\"var(--primary-600)\" \r\n              className=\"chart-point\"\r\n              tabIndex=\"0\"\r\n            >\r\n              <title>{`${d.date}: ${d.score}%`}</title>\r\n            </circle>\r\n          );\r\n        })}\r\n\r\n        <text x={padding - 10} y={height - padding} fontSize=\"12\" fill=\"var(--gray-600)\" textAnchor=\"end\">{minScore}%</text>\r\n        <text x={padding - 10} y={padding + 5} fontSize=\"12\" fill=\"var(--gray-600)\" textAnchor=\"end\">{maxScore}%</text>\r\n        \r\n        {data.length <= 10 && data.map((d, i) => {\r\n          const x = padding + (i * chartWidth) / Math.max(data.length - 1, 1);\r\n          return (\r\n            <text \r\n              key={i}\r\n              x={x} \r\n              y={height - padding + 20} \r\n              fontSize=\"10\" \r\n              fill=\"var(--gray-600)\" \r\n              textAnchor=\"middle\"\r\n            >\r\n              {d.shortDate}\r\n            </text>\r\n          );\r\n        })}\r\n      </svg>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Bar Chart Component\r\nconst BarChart = ({ data, width = 400, height = 200, title }) => {\r\n  if (!data || data.length === 0) {\r\n    return (\r\n      <div className=\"chart-placeholder\">\r\n        <p>📊 No data available for {title}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const validData = data.filter(d => Number.isFinite(d.value));\r\n  if (validData.length === 0) {\r\n    return (\r\n      <div className=\"chart-placeholder\">\r\n        <p>📊 No valid data for {title}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const maxValue = safeMath.max(validData.map(d => d.value), 1);\r\n  const padding = 40;\r\n  const chartWidth = width - 2 * padding;\r\n  const chartHeight = height - 2 * padding;\r\n  const barWidth = chartWidth / validData.length * 0.8;\r\n  const barSpacing = chartWidth / validData.length * 0.2;\r\n\r\n  return (\r\n    <div className=\"chart-wrapper\">\r\n      <h4 className=\"chart-title\">{title}</h4>\r\n      <svg width={width} height={height} className=\"bar-chart\">\r\n        <line x1={padding} y1={height - padding} x2={width - padding} y2={height - padding} stroke=\"#ddd\" strokeWidth=\"2\"/>\r\n        <line x1={padding} y1={padding} x2={padding} y2={height - padding} stroke=\"#ddd\" strokeWidth=\"2\"/>\r\n\r\n        {validData.map((d, i) => {\r\n          const barHeight = (d.value / maxValue) * chartHeight;\r\n          const x = padding + i * (barWidth + barSpacing);\r\n          const y = height - padding - barHeight;\r\n          \r\n          return (\r\n            <g key={i}>\r\n              <rect\r\n                x={x}\r\n                y={y}\r\n                width={barWidth}\r\n                height={barHeight}\r\n                fill=\"var(--primary-500)\"\r\n                className=\"chart-bar\"\r\n                tabIndex=\"0\"\r\n              >\r\n                <title>{`${d.label}: ${d.value}`}</title>\r\n              </rect>\r\n              <text\r\n                x={x + barWidth / 2}\r\n                y={height - padding + 15}\r\n                fontSize=\"10\"\r\n                fill=\"var(--gray-600)\"\r\n                textAnchor=\"middle\"\r\n              >\r\n                {d.label}\r\n              </text>\r\n              <text\r\n                x={x + barWidth / 2}\r\n                y={y - 5}\r\n                fontSize=\"10\"\r\n                fill=\"var(--gray-700)\"\r\n                textAnchor=\"middle\"\r\n                fontWeight=\"600\"\r\n              >\r\n                {d.value}\r\n              </text>\r\n            </g>\r\n          );\r\n        })}\r\n      </svg>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Donut Chart Component\r\nconst DonutChart = ({ passed, failed, width = 200, height = 200 }) => {\r\n  const passedCount = Number.isFinite(passed) ? Math.max(0, passed) : 0;\r\n  const failedCount = Number.isFinite(failed) ? Math.max(0, failed) : 0;\r\n  const total = passedCount + failedCount;\r\n  \r\n  if (total === 0) {\r\n    return (\r\n      <div className=\"chart-placeholder\">\r\n        <p>📊 No quiz data available</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const radius = Math.min(width, height) / 2 - 20;\r\n  const innerRadius = radius * 0.6;\r\n  const centerX = width / 2;\r\n  const centerY = height / 2;\r\n\r\n  const passedAngle = (passedCount / total) * 2 * Math.PI;\r\n  const failedAngle = (failedCount / total) * 2 * Math.PI;\r\n\r\n  const createArcPath = (startAngle, endAngle, outerRadius, innerRadius) => {\r\n    const x1 = centerX + outerRadius * Math.cos(startAngle);\r\n    const y1 = centerY + outerRadius * Math.sin(startAngle);\r\n    const x2 = centerX + outerRadius * Math.cos(endAngle);\r\n    const y2 = centerY + outerRadius * Math.sin(endAngle);\r\n    const x3 = centerX + innerRadius * Math.cos(endAngle);\r\n    const y3 = centerY + innerRadius * Math.sin(endAngle);\r\n    const x4 = centerX + innerRadius * Math.cos(startAngle);\r\n    const y4 = centerY + innerRadius * Math.sin(startAngle);\r\n\r\n    const largeArc = endAngle - startAngle > Math.PI ? 1 : 0;\r\n\r\n    return `M ${x1} ${y1} A ${outerRadius} ${outerRadius} 0 ${largeArc} 1 ${x2} ${y2} L ${x3} ${y3} A ${innerRadius} ${innerRadius} 0 ${largeArc} 0 ${x4} ${y4} Z`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"chart-wrapper\">\r\n      <h4 className=\"chart-title\">Pass/Fail Distribution</h4>\r\n      <svg width={width} height={height} className=\"donut-chart\">\r\n        <path\r\n          d={createArcPath(-Math.PI / 2, -Math.PI / 2 + passedAngle, radius, innerRadius)}\r\n          fill=\"var(--success-500)\"\r\n          className=\"chart-segment\"\r\n          tabIndex=\"0\"\r\n        >\r\n          <title>{`Passed: ${passedCount} (${safeMath.percentage(passedCount, total)}%)`}</title>\r\n        </path>\r\n        \r\n        <path\r\n          d={createArcPath(-Math.PI / 2 + passedAngle, -Math.PI / 2 + passedAngle + failedAngle, radius, innerRadius)}\r\n          fill=\"var(--error-500)\"\r\n          className=\"chart-segment\"\r\n          tabIndex=\"0\"\r\n        >\r\n          <title>{`Failed: ${failedCount} (${safeMath.percentage(failedCount, total)}%)`}</title>\r\n        </path>\r\n\r\n        <text x={centerX} y={centerY - 5} textAnchor=\"middle\" fontSize=\"18\" fontWeight=\"bold\" fill=\"var(--gray-700)\">\r\n          {total}\r\n        </text>\r\n        <text x={centerX} y={centerY + 15} textAnchor=\"middle\" fontSize=\"12\" fill=\"var(--gray-500)\">\r\n          Total Quizzes\r\n        </text>\r\n      </svg>\r\n      \r\n      <div className=\"chart-legend\">\r\n        <div className=\"legend-item\">\r\n          <span className=\"legend-color\" style={{backgroundColor: 'var(--success-500)'}}></span>\r\n          <span>Passed ({passedCount})</span>\r\n        </div>\r\n        <div className=\"legend-item\">\r\n          <span className=\"legend-color\" style={{backgroundColor: 'var(--error-500)'}}></span>\r\n          <span>Failed ({failedCount})</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AllResults = ({ onError, onSuccess }) => {\r\n  const navigate = useNavigate();\r\n  const abortControllerRef = useRef(null);\r\n  const searchTimeoutRef = useRef(null);\r\n\r\n  // Enhanced state management\r\n  const [state, setState] = useState({\r\n    results: [],\r\n    loading: true,\r\n    error: null,\r\n    currentPage: 1,\r\n    totalPages: 1,\r\n    totalResults: 0,\r\n    hasNextPage: false,\r\n    isLoadingMore: false,\r\n    lastFetchTime: null\r\n  });\r\n\r\n  const [filters, setFilters] = useState({\r\n    searchTerm: '',\r\n    sortBy: 'date',\r\n    filterBy: 'all',\r\n    dateRange: 'all',\r\n    scoreRange: [0, 100]\r\n  });\r\n\r\n  const [ui, setUi] = useState({\r\n    viewMode: localStorage.getItem('resultsViewMode') || 'cards',\r\n    selectedResults: new Set(),\r\n    showVisualization: false,\r\n    isOffline: !navigator.onLine\r\n  });\r\n\r\n  const [debouncedSearchTerm, setDebouncedSearchTerm] = useState(filters.searchTerm);\r\n  const [user, setUser] = useState(null);\r\n\r\n  // Debounced search\r\n  useEffect(() => {\r\n    if (searchTimeoutRef.current) {\r\n      clearTimeout(searchTimeoutRef.current);\r\n    }\r\n    \r\n    searchTimeoutRef.current = setTimeout(() => {\r\n      setDebouncedSearchTerm(filters.searchTerm);\r\n    }, 300);\r\n\r\n    return () => {\r\n      if (searchTimeoutRef.current) {\r\n        clearTimeout(searchTimeoutRef.current);\r\n      }\r\n    };\r\n  }, [filters.searchTerm]);\r\n\r\n  // Load user data\r\n  useEffect(() => {\r\n    const loadUser = () => {\r\n      try {\r\n        const userData = localStorage.getItem('user');\r\n        if (userData) {\r\n          const parsedUser = JSON.parse(userData);\r\n          setUser(parsedUser);\r\n        } else {\r\n          navigate('/signin');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading user data:', error);\r\n        navigate('/signin');\r\n      }\r\n    };\r\n    \r\n    loadUser();\r\n  }, [navigate]);\r\n\r\n  // Enhanced auth headers\r\n  const getAuthHeaders = useCallback(() => {\r\n    const token = localStorage.getItem('authToken');\r\n    if (!token) {\r\n      throw new Error('No authentication token found');\r\n    }\r\n    return {\r\n      'Authorization': `Bearer ${token}`,\r\n      'Content-Type': 'application/json'\r\n    };\r\n  }, []);\r\n\r\n  // Enhanced fetch with retry logic\r\n  const fetchResults = useCallback(async (page = 1, append = false, retryCount = 0) => {\r\n    if (!user?.id && !user?._id) {\r\n      console.warn('No user ID available for fetching results');\r\n      return;\r\n    }\r\n\r\n    // Cancel previous request\r\n    if (abortControllerRef.current) {\r\n      abortControllerRef.current.abort();\r\n    }\r\n    abortControllerRef.current = new AbortController();\r\n\r\n    setState(prev => ({ \r\n      ...prev, \r\n      loading: !append, \r\n      isLoadingMore: append,\r\n      error: null \r\n    }));\r\n\r\n    try {\r\n      const queryParams = new URLSearchParams({\r\n        page: page.toString(),\r\n        limit: '12',\r\n        search: debouncedSearchTerm || '',\r\n        sort: filters.sortBy || 'date',\r\n        filter: filters.filterBy || 'all',\r\n        dateRange: filters.dateRange || 'all',\r\n        scoreMin: (filters.scoreRange[0] || 0).toString(),\r\n        scoreMax: (filters.scoreRange[1] || 100).toString()\r\n      });\r\n\r\n      const response = await fetch(\r\n        `${API_BASE_URL}/api/quiz-results/user/${user.id || user._id}?${queryParams}`,\r\n        {\r\n          headers: getAuthHeaders(),\r\n          signal: abortControllerRef.current.signal\r\n        }\r\n      );\r\n\r\n      if (!response.ok) {\r\n        if (response.status === 401) {\r\n          localStorage.removeItem('authToken');\r\n          navigate('/signin');\r\n          return;\r\n        }\r\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      \r\n      // Validate response data\r\n      if (!data || typeof data !== 'object') {\r\n        throw new Error('Invalid response format');\r\n      }\r\n\r\n      const items = Array.isArray(data.items) ? data.items : [];\r\n      const totalPages = Number.isFinite(data.totalPages) ? Math.max(1, data.totalPages) : 1;\r\n      const totalResults = Number.isFinite(data.total) ? Math.max(0, data.total) : 0;\r\n\r\n      const newState = {\r\n        results: append ? [...state.results, ...items] : items,\r\n        currentPage: page,\r\n        totalPages,\r\n        totalResults,\r\n        hasNextPage: Boolean(data.hasNextPage),\r\n        loading: false,\r\n        isLoadingMore: false,\r\n        error: null,\r\n        lastFetchTime: Date.now()\r\n      };\r\n\r\n      setState(prev => ({ ...prev, ...newState }));\r\n\r\n    } catch (error) {\r\n      if (error.name === 'AbortError') return;\r\n      \r\n      console.error('Error fetching results:', error);\r\n      \r\n      // Retry logic for network errors\r\n      if (retryCount < 2 && error.message.includes('fetch')) {\r\n        console.log(`Retrying request... (${retryCount + 1}/2)`);\r\n        setTimeout(() => fetchResults(page, append, retryCount + 1), 1000);\r\n        return;\r\n      }\r\n      \r\n      setState(prev => ({ \r\n        ...prev, \r\n        loading: false, \r\n        isLoadingMore: false,\r\n        error: error.message \r\n      }));\r\n      \r\n      onError?.(`Failed to load quiz history: ${error.message}`);\r\n    }\r\n  }, [user, filters, debouncedSearchTerm, getAuthHeaders, onError, navigate, state.results]);\r\n\r\n  // Auto-refresh when user changes\r\n  useEffect(() => {\r\n    if (user) {\r\n      fetchResults(1);\r\n    }\r\n  }, [user, debouncedSearchTerm, filters.sortBy, filters.filterBy, filters.dateRange, JSON.stringify(filters.scoreRange)]);\r\n\r\n  // Enhanced statistics with safe math\r\n  const enhancedStats = useMemo(() => {\r\n    if (!Array.isArray(state.results) || state.results.length === 0) return null;\r\n\r\n    try {\r\n      // Extract valid scores\r\n      const scores = state.results\r\n        .map(r => r.stats?.percentage)\r\n        .filter(s => Number.isFinite(s))\r\n        .map(s => Math.max(0, Math.min(100, s))); // Clamp to 0-100\r\n\r\n      if (scores.length === 0) return null;\r\n\r\n      // Calculate basic stats\r\n      const totalQuizzes = state.results.length;\r\n      const passedCount = state.results.filter(r => r.stats?.passed === true).length;\r\n      const failedCount = totalQuizzes - passedCount;\r\n      \r\n      // Time calculations\r\n      const totalTime = state.results.reduce((sum, r) => {\r\n        const timeSpent = r.timing?.totalTimeSpent || 0;\r\n        return sum + (Number.isFinite(timeSpent) ? timeSpent : 0);\r\n      }, 0);\r\n      \r\n      // Trend analysis\r\n      const recent = scores.slice(0, 5);\r\n      const previous = scores.slice(5, 10);\r\n      const recentAvg = safeMath.average(recent);\r\n      const previousAvg = safeMath.average(previous);\r\n      \r\n      let recentTrend = 'insufficient-data';\r\n      let trendPercentage = 0;\r\n      \r\n      if (recent.length >= 3 && previous.length >= 3) {\r\n        const diff = recentAvg - previousAvg;\r\n        if (Math.abs(diff) > 2) {\r\n          recentTrend = diff > 0 ? 'improving' : 'declining';\r\n          trendPercentage = safeMath.percentage(diff, previousAvg);\r\n        } else {\r\n          recentTrend = 'stable';\r\n        }\r\n      }\r\n      \r\n      // Consistency calculation\r\n      const variance = safeMath.variance(scores);\r\n      const standardDeviation = Math.sqrt(variance);\r\n      const consistencyScore = Math.max(0, 100 - standardDeviation);\r\n      \r\n      // Recent activity\r\n      const weekAgo = new Date();\r\n      weekAgo.setDate(weekAgo.getDate() - 7);\r\n      const lastWeekCount = state.results.filter(r => {\r\n        const createdAt = new Date(r.createdAt);\r\n        return createdAt instanceof Date && !isNaN(createdAt) && createdAt > weekAgo;\r\n      }).length;\r\n\r\n      return {\r\n        totalQuizzes,\r\n        averageScore: safeMath.average(scores),\r\n        bestScore: safeMath.max(scores),\r\n        worstScore: safeMath.min(scores, 100),\r\n        passRate: safeMath.percentage(passedCount, totalQuizzes),\r\n        totalTimeHours: safeMath.round(totalTime / (1000 * 60 * 60), 1),\r\n        recentTrend,\r\n        trendPercentage: Math.abs(trendPercentage),\r\n        consistencyScore: Math.round(consistencyScore),\r\n        lastWeekCount,\r\n        passedCount,\r\n        failedCount,\r\n        medianScore: scores.length > 0 ? scores.sort((a, b) => a - b)[Math.floor(scores.length / 2)] : 0,\r\n        scoreRange: scores.length > 0 ? safeMath.max(scores) - safeMath.min(scores, 100) : 0\r\n      };\r\n    } catch (error) {\r\n      console.error('Error calculating stats:', error);\r\n      return null;\r\n    }\r\n  }, [state.results]);\r\n\r\n  // Chart data with safe calculations\r\n  const chartData = useMemo(() => {\r\n    if (!Array.isArray(state.results) || state.results.length === 0) return null;\r\n\r\n    try {\r\n      // Line chart data - scores over time\r\n      const validResults = state.results\r\n        .filter(r => r.createdAt && r.stats?.percentage != null)\r\n        .sort((a, b) => new Date(a.createdAt) - new Date(b.createdAt))\r\n        .slice(-10);\r\n\r\n      const lineChartData = validResults.map(r => {\r\n        const date = new Date(r.createdAt);\r\n        const score = Number.isFinite(r.stats.percentage) ? Math.max(0, Math.min(100, r.stats.percentage)) : 0;\r\n        \r\n        return {\r\n          date: date.toLocaleDateString(),\r\n          shortDate: date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }),\r\n          score\r\n        };\r\n      });\r\n\r\n      // Bar chart data - score distribution\r\n      const scoreRanges = [\r\n        { label: '0-20%', min: 0, max: 20 },\r\n        { label: '21-40%', min: 21, max: 40 },\r\n        { label: '41-60%', min: 41, max: 60 },\r\n        { label: '61-80%', min: 61, max: 80 },\r\n        { label: '81-100%', min: 81, max: 100 }\r\n      ];\r\n\r\n      const barChartData = scoreRanges.map(range => ({\r\n        label: range.label,\r\n        value: state.results.filter(r => {\r\n          const score = r.stats?.percentage;\r\n          return Number.isFinite(score) && score >= range.min && score <= range.max;\r\n        }).length\r\n      }));\r\n\r\n      return {\r\n        lineChartData,\r\n        barChartData\r\n      };\r\n    } catch (error) {\r\n      console.error('Error generating chart data:', error);\r\n      return null;\r\n    }\r\n  }, [state.results]);\r\n\r\n  // Enhanced filtering and sorting\r\n  const processedResults = useMemo(() => {\r\n    if (!Array.isArray(state.results)) return [];\r\n\r\n    try {\r\n      let processed = [...state.results];\r\n\r\n      // Apply date range filter\r\n      if (filters.dateRange !== 'all') {\r\n        const now = new Date();\r\n        const cutoff = new Date();\r\n        \r\n        switch (filters.dateRange) {\r\n          case 'today':\r\n            cutoff.setHours(0, 0, 0, 0);\r\n            break;\r\n          case 'week':\r\n            cutoff.setDate(now.getDate() - 7);\r\n            break;\r\n          case 'month':\r\n            cutoff.setMonth(now.getMonth() - 1);\r\n            break;\r\n          case 'quarter':\r\n            cutoff.setMonth(now.getMonth() - 3);\r\n            break;\r\n          default:\r\n            cutoff.setFullYear(now.getFullYear() - 1);\r\n        }\r\n        \r\n        processed = processed.filter(result => {\r\n          const resultDate = new Date(result.createdAt);\r\n          return resultDate instanceof Date && !isNaN(resultDate) && resultDate >= cutoff;\r\n        });\r\n      }\r\n\r\n      // Apply score range filter\r\n      processed = processed.filter(result => {\r\n        const score = result.stats?.percentage;\r\n        return Number.isFinite(score) && \r\n               score >= (filters.scoreRange[0] || 0) && \r\n               score <= (filters.scoreRange[1] || 100);\r\n      });\r\n\r\n      // Apply status filter\r\n      if (filters.filterBy !== 'all') {\r\n        processed = processed.filter(result => {\r\n          switch (filters.filterBy) {\r\n            case 'passed':\r\n              return result.stats?.passed === true;\r\n            case 'failed':\r\n              return result.stats?.passed === false;\r\n            case 'high-score':\r\n              return (result.stats?.percentage || 0) >= 80;\r\n            case 'recent':\r\n              const oneWeekAgo = new Date();\r\n              oneWeekAgo.setDate(oneWeekAgo.getDate() - 7);\r\n              const resultDate = new Date(result.createdAt);\r\n              return resultDate instanceof Date && !isNaN(resultDate) && resultDate > oneWeekAgo;\r\n            default:\r\n              return true;\r\n          }\r\n        });\r\n      }\r\n\r\n      // Apply sorting\r\n      processed.sort((a, b) => {\r\n        try {\r\n          switch (filters.sortBy) {\r\n            case 'date':\r\n              const dateA = new Date(a.createdAt);\r\n              const dateB = new Date(b.createdAt);\r\n              return dateB - dateA;\r\n            case 'score':\r\n              const scoreA = Number.isFinite(a.stats?.percentage) ? a.stats.percentage : 0;\r\n              const scoreB = Number.isFinite(b.stats?.percentage) ? b.stats.percentage : 0;\r\n              return scoreB - scoreA;\r\n            case 'title':\r\n              const titleA = a.quizConfig?.title || '';\r\n              const titleB = b.quizConfig?.title || '';\r\n              return titleA.localeCompare(titleB);\r\n            case 'time':\r\n              const timeA = Number.isFinite(a.timing?.totalTimeSpent) ? a.timing.totalTimeSpent : 0;\r\n              const timeB = Number.isFinite(b.timing?.totalTimeSpent) ? b.timing.totalTimeSpent : 0;\r\n              return timeA - timeB;\r\n            default:\r\n              return 0;\r\n          }\r\n        } catch (error) {\r\n          console.error('Error sorting results:', error);\r\n          return 0;\r\n        }\r\n      });\r\n\r\n      return processed;\r\n    } catch (error) {\r\n      console.error('Error processing results:', error);\r\n      return [];\r\n    }\r\n  }, [state.results, filters]);\r\n\r\n  // FIXED: View result with COMPLETE data structure\r\n  const viewResult = useCallback((result) => {\r\n    try {\r\n      if (!result) {\r\n        onError?.('Invalid result data');\r\n        return;\r\n      }\r\n\r\n      console.log('🔍 Original result from database:', result);\r\n\r\n      // Create the COMPLETE data structure that Results expects\r\n      const completeResultData = {\r\n        // Core quiz stats - these come from result.stats\r\n        totalQuestions: result.quizConfig?.totalQuestions || 30,\r\n        answeredQuestions: result.stats?.answeredQuestions || 0,\r\n        correctAnswers: result.stats?.correctAnswers || 0,\r\n        skippedQuestions: result.stats?.skippedQuestions || 0,\r\n        totalScore: result.stats?.totalScore || 0,\r\n        maxScore: result.stats?.maxScore || 0,\r\n        percentage: result.stats?.percentage || 0,\r\n        grade: result.stats?.grade || 'F',\r\n        passed: Boolean(result.stats?.passed),\r\n\r\n        // Quiz configuration - preserve original structure\r\n        quizConfig: {\r\n          title: result.quizConfig?.title || 'Web Development Fundamentals Quiz',\r\n          timeLimit: result.quizConfig?.timeLimit || 1800,\r\n          passingScore: result.quizConfig?.passingScore || 70,\r\n          totalQuestions: result.quizConfig?.totalQuestions || 30\r\n        },\r\n\r\n        // Student information - preserve original structure\r\n        student: {\r\n          name: result.student?.name || user?.name || 'Hari Krishna',\r\n          email: result.student?.email || user?.email || 'notbot4444@gmail.com'\r\n        },\r\n\r\n        // Timing data - CRITICAL for time display\r\n        timing: {\r\n          startTime: result.timing?.startTime || new Date('2025-07-06T12:07:30.675Z'),\r\n          submitTime: result.timing?.submitTime || new Date('2025-07-06T12:07:44.084Z'),\r\n          totalTimeSpent: result.timing?.totalTimeSpent || 13409, // This is the key field!\r\n          totalTimeSpentFormatted: result.timing?.totalTimeSpentFormatted || '00:13',\r\n          averageTimePerQuestion: result.timing?.averageTimePerQuestion || 0\r\n        },\r\n\r\n        // Submission details\r\n        submission: {\r\n          reason: result.submission?.reason || 'completed',\r\n          timestamp: result.submission?.timestamp || new Date()\r\n        },\r\n\r\n        // Question results - preserve original array\r\n        questionResults: Array.isArray(result.questionResults) ? result.questionResults : [],\r\n\r\n        // Analytics data - preserve original structure\r\n        analytics: result.analytics || {\r\n          summary: {},\r\n          categoryBreakdown: {},\r\n          difficultyBreakdown: {},\r\n          timeAnalysis: {}\r\n        }\r\n      };\r\n\r\n      console.log('✅ Complete data structure being passed:', completeResultData);\r\n\r\n      // Store complete data in localStorage\r\n      localStorage.setItem('quiz-results', JSON.stringify(completeResultData));\r\n      \r\n      // Navigate with complete data\r\n      navigate('/results', {\r\n        state: {\r\n          fromHistory: true,\r\n          resultId: result._id,\r\n          results: completeResultData  // ✅ Complete structure\r\n        }\r\n      });\r\n\r\n    } catch (error) {\r\n      console.error('❌ Error viewing result:', error);\r\n      onError?.('Failed to view result details');\r\n    }\r\n  }, [navigate, onError, user]);\r\n\r\n  // Enhanced delete with proper error handling\r\n  const deleteResult = useCallback(async (resultId) => {\r\n    if (!resultId) return;\r\n\r\n    if (!window.confirm('Are you sure you want to delete this result? This action cannot be undone.')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const originalResults = [...state.results];\r\n      \r\n      // Optimistic update\r\n      setState(prev => ({\r\n        ...prev,\r\n        results: prev.results.filter(r => r._id !== resultId),\r\n        totalResults: Math.max(0, prev.totalResults - 1)\r\n      }));\r\n\r\n      const response = await fetch(`${API_BASE_URL}/api/quiz-results/${resultId}`, {\r\n        method: 'DELETE',\r\n        headers: getAuthHeaders()\r\n      });\r\n\r\n      if (!response.ok) {\r\n        // Revert on failure\r\n        setState(prev => ({ ...prev, results: originalResults }));\r\n        throw new Error(`Failed to delete result: ${response.statusText}`);\r\n      }\r\n\r\n      onSuccess?.('Result deleted successfully');\r\n\r\n    } catch (error) {\r\n      console.error('Error deleting result:', error);\r\n      onError?.('Failed to delete result');\r\n    }\r\n  }, [state.results, getAuthHeaders, onSuccess, onError]);\r\n\r\n  // Enhanced bulk delete\r\n  const handleBulkDelete = useCallback(async () => {\r\n    const selectedIds = Array.from(ui.selectedResults).filter(id => id);\r\n    if (selectedIds.length === 0) return;\r\n\r\n    if (!window.confirm(`Are you sure you want to delete ${selectedIds.length} results? This action cannot be undone.`)) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const originalResults = [...state.results];\r\n      \r\n      // Optimistic update\r\n      setState(prev => ({\r\n        ...prev,\r\n        results: prev.results.filter(r => !selectedIds.includes(r._id)),\r\n        totalResults: Math.max(0, prev.totalResults - selectedIds.length)\r\n      }));\r\n\r\n      const deletePromises = selectedIds.map(id => \r\n        fetch(`${API_BASE_URL}/api/quiz-results/${id}`, {\r\n          method: 'DELETE',\r\n          headers: getAuthHeaders()\r\n        })\r\n      );\r\n\r\n      const responses = await Promise.allSettled(deletePromises);\r\n      const failedDeletes = responses.filter(r => r.status === 'rejected' || !r.value?.ok);\r\n\r\n      if (failedDeletes.length > 0) {\r\n        // Revert on partial failure\r\n        setState(prev => ({ ...prev, results: originalResults }));\r\n        throw new Error(`Failed to delete ${failedDeletes.length} results`);\r\n      }\r\n\r\n      setUi(prev => ({ ...prev, selectedResults: new Set() }));\r\n      onSuccess?.(`${selectedIds.length} results deleted successfully`);\r\n\r\n    } catch (error) {\r\n      console.error('Bulk delete error:', error);\r\n      onError?.('Failed to delete selected results');\r\n    }\r\n  }, [ui.selectedResults, state.results, getAuthHeaders, onSuccess, onError]);\r\n\r\n  // Enhanced export with data validation\r\n  const exportResults = useCallback((format = 'csv') => {\r\n    try {\r\n      if (!Array.isArray(processedResults) || processedResults.length === 0) {\r\n        onError?.('No results to export');\r\n        return;\r\n      }\r\n\r\n      const data = processedResults.map(result => {\r\n        const createdAt = new Date(result.createdAt);\r\n        const isValidDate = createdAt instanceof Date && !isNaN(createdAt);\r\n        \r\n        return {\r\n          date: isValidDate ? createdAt.toLocaleDateString() : 'Unknown',\r\n          time: isValidDate ? createdAt.toLocaleTimeString() : 'Unknown',\r\n          title: result.quizConfig?.title || 'Quiz',\r\n          score: Number.isFinite(result.stats?.percentage) ? result.stats.percentage : 0,\r\n          grade: result.stats?.grade || 'N/A',\r\n          status: result.stats?.passed ? 'Passed' : 'Failed',\r\n          timeTaken: result.timing?.totalTimeSpentFormatted || '0:00',\r\n          correctAnswers: Number.isFinite(result.stats?.correctAnswers) ? result.stats.correctAnswers : 0,\r\n          totalQuestions: Number.isFinite(result.quizConfig?.totalQuestions) ? result.quizConfig.totalQuestions : 0\r\n        };\r\n      });\r\n\r\n      let content, mimeType, extension;\r\n\r\n      switch (format) {\r\n        case 'json':\r\n          content = JSON.stringify(data, null, 2);\r\n          mimeType = 'application/json';\r\n          extension = 'json';\r\n          break;\r\n        default:\r\n          content = [\r\n            'Date,Time,Title,Score,Grade,Status,Time Taken,Correct Answers,Total Questions',\r\n            ...data.map(row => \r\n              `\"${row.date}\",\"${row.time}\",\"${row.title}\",\"${row.score}%\",\"${row.grade}\",\"${row.status}\",\"${row.timeTaken}\",\"${row.correctAnswers}\",\"${row.totalQuestions}\"`\r\n            )\r\n          ].join('\\n');\r\n          mimeType = 'text/csv';\r\n          extension = 'csv';\r\n      }\r\n\r\n      const blob = new Blob([content], { type: mimeType });\r\n      const url = window.URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = `quiz-results-${new Date().toISOString().split('T')[0]}.${extension}`;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      document.body.removeChild(a);\r\n      window.URL.revokeObjectURL(url);\r\n\r\n      onSuccess?.(`Results exported as ${format.toUpperCase()} successfully!`);\r\n    } catch (error) {\r\n      console.error('Export error:', error);\r\n      onError?.('Failed to export results');\r\n    }\r\n  }, [processedResults, onSuccess, onError]);\r\n\r\n  // Save view mode preference\r\n  useEffect(() => {\r\n    localStorage.setItem('resultsViewMode', ui.viewMode);\r\n  }, [ui.viewMode]);\r\n\r\n  // Online/offline detection\r\n  useEffect(() => {\r\n    const handleOnline = () => setUi(prev => ({ ...prev, isOffline: false }));\r\n    const handleOffline = () => setUi(prev => ({ ...prev, isOffline: true }));\r\n\r\n    window.addEventListener('online', handleOnline);\r\n    window.addEventListener('offline', handleOffline);\r\n\r\n    return () => {\r\n      window.removeEventListener('online', handleOnline);\r\n      window.removeEventListener('offline', handleOffline);\r\n    };\r\n  }, []);\r\n\r\n  // Keyboard shortcuts\r\n  useEffect(() => {\r\n    const handleKeyDown = (e) => {\r\n      if (e.ctrlKey || e.metaKey) {\r\n        switch (e.key) {\r\n          case 'f':\r\n            e.preventDefault();\r\n            document.querySelector('.search-input')?.focus();\r\n            break;\r\n          case 'e':\r\n            e.preventDefault();\r\n            exportResults();\r\n            break;\r\n          case 'a':\r\n            if (processedResults.length > 0) {\r\n              e.preventDefault();\r\n              setUi(prev => ({\r\n                ...prev,\r\n                selectedResults: new Set(processedResults.map(r => r._id))\r\n              }));\r\n            }\r\n            break;\r\n        }\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleKeyDown);\r\n    return () => document.removeEventListener('keydown', handleKeyDown);\r\n  }, [exportResults, processedResults]);\r\n\r\n  // Cleanup\r\n  useEffect(() => {\r\n    return () => {\r\n      if (abortControllerRef.current) {\r\n        abortControllerRef.current.abort();\r\n      }\r\n      if (searchTimeoutRef.current) {\r\n        clearTimeout(searchTimeoutRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Loading state\r\n  if (state.loading && !state.results.length) {\r\n    return (\r\n      <div className=\"all-results-loading\">\r\n        <div className=\"loading-container\">\r\n          <div className=\"loading-spinner\"></div>\r\n          <h2>Loading Quiz History...</h2>\r\n          <p>Fetching your quiz results</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Error state\r\n  if (state.error) {\r\n    return (\r\n      <div className=\"all-results-error\">\r\n        <div className=\"error-content\">\r\n          <h2>⚠️ Something went wrong</h2>\r\n          <p>{state.error}</p>\r\n          <div className=\"error-actions\">\r\n            <button onClick={() => fetchResults(1)} className=\"action-btn primary\">\r\n              🔄 Retry\r\n            </button>\r\n            <button onClick={() => navigate('/')} className=\"action-btn outline\">\r\n              🏠 Go Home\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"all-results-container\" role=\"main\" aria-label=\"Quiz Results\">\r\n      {/* Offline indicator */}\r\n      {ui.isOffline && (\r\n        <div className=\"offline-banner\" role=\"alert\">\r\n          📡 You're offline. Some features may be limited.\r\n        </div>\r\n      )}\r\n\r\n      {/* Enhanced Header */}\r\n      <header className=\"all-results-header\">\r\n        <div className=\"header-content\">\r\n          <div className=\"header-title\">\r\n            <h1>📊 Quiz History</h1>\r\n            <p>\r\n              Your complete quiz performance overview\r\n              {enhancedStats && (\r\n                <span className=\"stats-summary\">\r\n                  • {enhancedStats.totalQuizzes} quizzes • {enhancedStats.averageScore}% avg\r\n                </span>\r\n              )}\r\n            </p>\r\n          </div>\r\n          <div className=\"header-actions\">\r\n            <button \r\n              onClick={() => navigate('/quiz')} \r\n              className=\"action-btn primary\"\r\n              aria-label=\"Take a new quiz\"\r\n            >\r\n              📝 Take New Quiz\r\n            </button>\r\n            <button \r\n              onClick={() => setUi(prev => ({ ...prev, showVisualization: !prev.showVisualization }))}\r\n              className=\"action-btn outline\"\r\n              aria-label={ui.showVisualization ? 'Hide charts' : 'Show charts'}\r\n            >\r\n              📈 {ui.showVisualization ? 'Hide' : 'Show'} Charts\r\n            </button>\r\n            <button \r\n              onClick={() => navigate('/')} \r\n              className=\"action-btn outline\"\r\n              aria-label=\"Go to home page\"\r\n            >\r\n              🏠 Home\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Data Visualization Section */}\r\n      {ui.showVisualization && enhancedStats && chartData && (\r\n        <section className=\"visualization-section\" aria-label=\"Performance visualizations\">\r\n          <div className=\"charts-container\">\r\n            <div className=\"charts-grid\">\r\n              {/* Performance Trend Chart */}\r\n              <div className=\"chart-item\">\r\n                <LineChart \r\n                  data={chartData.lineChartData} \r\n                  width={600} \r\n                  height={250} \r\n                  title=\"📈 Performance Trend (Last 10 Quizzes)\"\r\n                />\r\n              </div>\r\n\r\n              {/* Score Distribution Chart */}\r\n              <div className=\"chart-item\">\r\n                <BarChart \r\n                  data={chartData.barChartData} \r\n                  width={500} \r\n                  height={250} \r\n                  title=\"📊 Score Distribution\"\r\n                />\r\n              </div>\r\n\r\n              {/* Pass/Fail Donut Chart */}\r\n              <div className=\"chart-item\">\r\n                <DonutChart \r\n                  passed={enhancedStats.passedCount} \r\n                  failed={enhancedStats.failedCount} \r\n                  width={250} \r\n                  height={250}\r\n                />\r\n              </div>\r\n\r\n              {/* Performance Insights */}\r\n              <div className=\"chart-item insights-panel\">\r\n                <h4 className=\"chart-title\">🎯 Performance Insights</h4>\r\n                <div className=\"insights-content\">\r\n                  <div className=\"insight-item\">\r\n                    <span className=\"insight-icon\">🏆</span>\r\n                    <div className=\"insight-text\">\r\n                      <strong>Best Performance:</strong> {enhancedStats.bestScore}% score\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"insight-item\">\r\n                    <span className=\"insight-icon\">📊</span>\r\n                    <div className=\"insight-text\">\r\n                      <strong>Consistency:</strong> {enhancedStats.consistencyScore}% consistency score\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"insight-item\">\r\n                    <span className=\"insight-icon\">⚡</span>\r\n                    <div className=\"insight-text\">\r\n                      <strong>Recent Activity:</strong> {enhancedStats.lastWeekCount} quizzes this week\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"insight-item\">\r\n                    <span className=\"insight-icon\">\r\n                      {enhancedStats.recentTrend === 'improving' ? '📈' : \r\n                       enhancedStats.recentTrend === 'declining' ? '📉' : '➡️'}\r\n                    </span>\r\n                    <div className=\"insight-text\">\r\n                      <strong>Trend:</strong> Your performance is {enhancedStats.recentTrend}\r\n                      {enhancedStats.trendPercentage !== 0 && (\r\n                        <span> ({enhancedStats.trendPercentage}%)</span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      )}\r\n\r\n      {/* Enhanced Statistics */}\r\n      {enhancedStats && (\r\n        <section className=\"overall-stats\" aria-labelledby=\"stats-heading\">\r\n          <h3 id=\"stats-heading\">📈 Performance Analytics</h3>\r\n          <div className=\"stats-grid\">\r\n            <div className=\"stat-card\" tabIndex=\"0\">\r\n              <div className=\"stat-icon\">📊</div>\r\n              <div className=\"stat-content\">\r\n                <div className=\"stat-value\">{enhancedStats.totalQuizzes}</div>\r\n                <div className=\"stat-label\">Total Quizzes</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"stat-card\" tabIndex=\"0\">\r\n              <div className=\"stat-icon\">🎯</div>\r\n              <div className=\"stat-content\">\r\n                <div className=\"stat-value\">{enhancedStats.averageScore}%</div>\r\n                <div className=\"stat-label\">Average Score</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"stat-card\" tabIndex=\"0\">\r\n              <div className=\"stat-icon\">🏆</div>\r\n              <div className=\"stat-content\">\r\n                <div className=\"stat-value\">{enhancedStats.bestScore}%</div>\r\n                <div className=\"stat-label\">Best Score</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"stat-card\" tabIndex=\"0\">\r\n              <div className=\"stat-icon\">✅</div>\r\n              <div className=\"stat-content\">\r\n                <div className=\"stat-value\">{enhancedStats.passRate}%</div>\r\n                <div className=\"stat-label\">Pass Rate</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"stat-card\" tabIndex=\"0\">\r\n              <div className=\"stat-icon\">⏰</div>\r\n              <div className=\"stat-content\">\r\n                <div className=\"stat-value\">{enhancedStats.totalTimeHours}h</div>\r\n                <div className=\"stat-label\">Total Time</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"stat-card\" tabIndex=\"0\">\r\n              <div className=\"stat-icon\">\r\n                {enhancedStats.recentTrend === 'improving' ? '📈' : \r\n                 enhancedStats.recentTrend === 'declining' ? '📉' : '➡️'}\r\n              </div>\r\n              <div className=\"stat-content\">\r\n                <div className=\"stat-value\">\r\n                  {enhancedStats.recentTrend === 'improving' ? 'Improving' : \r\n                   enhancedStats.recentTrend === 'declining' ? 'Declining' : 'Stable'}\r\n                </div>\r\n                <div className=\"stat-label\">Recent Trend</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      )}\r\n\r\n      {/* Enhanced Controls */}\r\n      <section className=\"results-controls\" aria-label=\"Filter and search controls\">\r\n        <div className=\"controls-left\">\r\n          <div className=\"search-box\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search quizzes... (Ctrl+F)\"\r\n              value={filters.searchTerm}\r\n              onChange={(e) => setFilters(prev => ({ ...prev, searchTerm: e.target.value }))}\r\n              className=\"search-input\"\r\n              aria-label=\"Search quizzes\"\r\n            />\r\n            <i className=\"fas fa-search search-icon\" aria-hidden=\"true\"></i>\r\n          </div>\r\n          \r\n          <select\r\n            value={filters.filterBy}\r\n            onChange={(e) => setFilters(prev => ({ ...prev, filterBy: e.target.value }))}\r\n            className=\"filter-select\"\r\n            aria-label=\"Filter results by status\"\r\n          >\r\n            <option value=\"all\">All Results</option>\r\n            <option value=\"passed\">Passed Only</option>\r\n            <option value=\"failed\">Failed Only</option>\r\n            <option value=\"high-score\">High Scores (80%+)</option>\r\n            <option value=\"recent\">Recent (Last Week)</option>\r\n          </select>\r\n\r\n          <select\r\n            value={filters.dateRange}\r\n            onChange={(e) => setFilters(prev => ({ ...prev, dateRange: e.target.value }))}\r\n            className=\"filter-select\"\r\n            aria-label=\"Filter by date range\"\r\n          >\r\n            <option value=\"all\">All Time</option>\r\n            <option value=\"today\">Today</option>\r\n            <option value=\"week\">This Week</option>\r\n            <option value=\"month\">This Month</option>\r\n            <option value=\"quarter\">Last 3 Months</option>\r\n            <option value=\"year\">This Year</option>\r\n          </select>\r\n\r\n          <select\r\n            value={filters.sortBy}\r\n            onChange={(e) => setFilters(prev => ({ ...prev, sortBy: e.target.value }))}\r\n            className=\"sort-select\"\r\n            aria-label=\"Sort results by\"\r\n          >\r\n            <option value=\"date\">Sort by Date</option>\r\n            <option value=\"score\">Sort by Score</option>\r\n            <option value=\"title\">Sort by Title</option>\r\n            <option value=\"time\">Sort by Time</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"controls-right\">\r\n          {ui.selectedResults.size > 0 && (\r\n            <div className=\"bulk-actions\">\r\n              <span className=\"selection-count\">\r\n                {ui.selectedResults.size} selected\r\n              </span>\r\n              <button \r\n                onClick={handleBulkDelete}\r\n                className=\"action-btn small danger\"\r\n                aria-label={`Delete ${ui.selectedResults.size} selected results`}\r\n              >\r\n                🗑️ Delete Selected\r\n              </button>\r\n              <button \r\n                onClick={() => setUi(prev => ({ ...prev, selectedResults: new Set() }))}\r\n                className=\"action-btn small outline\"\r\n                aria-label=\"Clear selection\"\r\n              >\r\n                ✕ Clear\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"view-toggle\" role=\"radiogroup\" aria-label=\"View mode\">\r\n            <button\r\n              className={`view-btn ${ui.viewMode === 'cards' ? 'active' : ''}`}\r\n              onClick={() => setUi(prev => ({ ...prev, viewMode: 'cards' }))}\r\n              aria-label=\"Card view\"\r\n              role=\"radio\"\r\n              aria-checked={ui.viewMode === 'cards'}\r\n            >\r\n              <i className=\"fas fa-th\" aria-hidden=\"true\"></i>\r\n            </button>\r\n            <button\r\n              className={`view-btn ${ui.viewMode === 'list' ? 'active' : ''}`}\r\n              onClick={() => setUi(prev => ({ ...prev, viewMode: 'list' }))}\r\n              aria-label=\"List view\"\r\n              role=\"radio\"\r\n              aria-checked={ui.viewMode === 'list'}\r\n            >\r\n              <i className=\"fas fa-list\" aria-hidden=\"true\"></i>\r\n            </button>\r\n          </div>\r\n          \r\n          <div className=\"export-group\">\r\n            <button onClick={() => exportResults('csv')} className=\"export-btn\">\r\n              📄 Export CSV\r\n            </button>\r\n            <button onClick={() => exportResults('json')} className=\"export-btn\">\r\n              📋 Export JSON\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Results Display */}\r\n      {processedResults.length === 0 ? (\r\n        <div className=\"no-results\" role=\"region\" aria-label=\"No results found\">\r\n          <div className=\"no-results-icon\">📭</div>\r\n          <h3>No Results Found</h3>\r\n          <p>\r\n            {filters.searchTerm || filters.filterBy !== 'all' || filters.dateRange !== 'all'\r\n              ? 'No quizzes match your current filters. Try adjusting your search or filters.'\r\n              : 'You haven\\'t taken any quizzes yet. Take your first quiz to get started!'\r\n            }\r\n          </p>\r\n          <div className=\"no-results-actions\">\r\n            <button onClick={() => navigate('/quiz')} className=\"action-btn primary\">\r\n              📝 Take Your First Quiz\r\n            </button>\r\n            {(filters.searchTerm || filters.filterBy !== 'all' || filters.dateRange !== 'all') && (\r\n              <button \r\n                onClick={() => setFilters({ \r\n                  searchTerm: '', \r\n                  sortBy: 'date', \r\n                  filterBy: 'all', \r\n                  dateRange: 'all', \r\n                  scoreRange: [0, 100] \r\n                })}\r\n                className=\"action-btn outline\"\r\n              >\r\n                🔄 Clear Filters\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <section className=\"results-section\" aria-label=\"Quiz results\">\r\n          <div className=\"results-actions-bar\">\r\n            <div className=\"results-count\">\r\n              Showing {processedResults.length} of {state.totalResults} results\r\n            </div>\r\n            <div className=\"select-actions\">\r\n              <button\r\n                onClick={() => setUi(prev => ({\r\n                  ...prev,\r\n                  selectedResults: new Set(processedResults.map(r => r._id))\r\n                }))}\r\n                className=\"action-btn small outline\"\r\n                disabled={processedResults.length === 0}\r\n              >\r\n                Select All\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className={`results-grid ${ui.viewMode}`} role=\"grid\">\r\n            {processedResults.map((result) => (\r\n              <article \r\n                key={result._id} \r\n                className={`result-card ${ui.selectedResults.has(result._id) ? 'selected' : ''}`}\r\n                role=\"gridcell\"\r\n              >\r\n                <div className=\"result-header\">\r\n                  <div className=\"result-checkbox\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={ui.selectedResults.has(result._id)}\r\n                      onChange={(e) => {\r\n                        const newSelected = new Set(ui.selectedResults);\r\n                        if (e.target.checked) {\r\n                          newSelected.add(result._id);\r\n                        } else {\r\n                          newSelected.delete(result._id);\r\n                        }\r\n                        setUi(prev => ({ ...prev, selectedResults: newSelected }));\r\n                      }}\r\n                      aria-label={`Select ${result.quizConfig?.title || 'quiz'}`}\r\n                    />\r\n                  </div>\r\n                  <div className=\"result-title\">\r\n                    <h4>{result.quizConfig?.title || 'Quiz'}</h4>\r\n                    <time className=\"result-date\" dateTime={result.createdAt}>\r\n                      {new Date(result.createdAt).toLocaleDateString()}\r\n                    </time>\r\n                  </div>\r\n                  <div className=\"result-actions\">\r\n                    <button\r\n                      onClick={() => viewResult(result)}\r\n                      className=\"action-btn small\"\r\n                      title=\"View Details\"\r\n                      aria-label={`View details for ${result.quizConfig?.title || 'quiz'}`}\r\n                    >\r\n                      👁️\r\n                    </button>\r\n                    <button\r\n                      onClick={() => deleteResult(result._id)}\r\n                      className=\"action-btn small danger\"\r\n                      title=\"Delete Result\"\r\n                      aria-label={`Delete ${result.quizConfig?.title || 'quiz'} result`}\r\n                    >\r\n                      🗑️\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"result-content\">\r\n                  <div className=\"score-display\">\r\n                    <div className={`score-circle ${result.stats?.passed ? 'passed' : 'failed'}`}>\r\n                      <span className=\"score-number\">\r\n                        {Number.isFinite(result.stats?.percentage) ? result.stats.percentage : 0}%\r\n                      </span>\r\n                      <span className=\"score-grade\">{result.stats?.grade || 'N/A'}</span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"result-details\">\r\n                    <div className=\"detail-item\">\r\n                      <span className=\"detail-label\">Status:</span>\r\n                      <span className={`detail-value ${result.stats?.passed ? 'passed' : 'failed'}`}>\r\n                        {result.stats?.passed ? '✅ Passed' : '❌ Failed'}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"detail-item\">\r\n                      <span className=\"detail-label\">Score:</span>\r\n                      <span className=\"detail-value\">\r\n                        {Number.isFinite(result.stats?.correctAnswers) ? result.stats.correctAnswers : 0} / {Number.isFinite(result.quizConfig?.totalQuestions) ? result.quizConfig.totalQuestions : 0}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"detail-item\">\r\n                      <span className=\"detail-label\">Time:</span>\r\n                      <span className=\"detail-value\">\r\n                        {result.timing?.totalTimeSpentFormatted || '0:00'}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"detail-item\">\r\n                      <span className=\"detail-label\">Questions:</span>\r\n                      <span className=\"detail-value\">\r\n                        {Number.isFinite(result.stats?.answeredQuestions) ? result.stats.answeredQuestions : 0} answered\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <footer className=\"result-footer\">\r\n                  <div className=\"performance-indicator\">\r\n                    {(() => {\r\n                      const percentage = Number.isFinite(result.stats?.percentage) ? result.stats.percentage : 0;\r\n                      if (percentage >= 90) return <span className=\"performance excellent\">🏆 Excellent</span>;\r\n                      if (percentage >= 80) return <span className=\"performance good\">⭐ Good</span>;\r\n                      if (percentage >= 70) return <span className=\"performance average\">👍 Average</span>;\r\n                      return <span className=\"performance needs-improvement\">📚 Needs Improvement</span>;\r\n                    })()}\r\n                  </div>\r\n                  <time className=\"result-time\" dateTime={result.createdAt}>\r\n                    {new Date(result.createdAt).toLocaleTimeString()}\r\n                  </time>\r\n                </footer>\r\n              </article>\r\n            ))}\r\n          </div>\r\n        </section>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nAllResults.propTypes = {\r\n  onError: PropTypes.func,\r\n  onSuccess: PropTypes.func\r\n};\r\n\r\nexport default AllResults;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}